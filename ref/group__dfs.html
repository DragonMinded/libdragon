<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: DragonFS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.png"/></td>
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">DragonFS<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__asset.html">Asset Subsystem</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>DragonFS filesystem implementation and newlib hooks.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:dragonfs_8c" id="r_dragonfs_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dragonfs_8c.html">dragonfs.c</a></td></tr>
<tr class="memdesc:dragonfs_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">DragonFS. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dfsinternal_8h" id="r_dfsinternal_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dfsinternal_8h.html">dfsinternal.h</a></td></tr>
<tr class="memdesc:dfsinternal_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal DFS Definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dragonfs_8h" id="r_dragonfs_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dragonfs_8h.html">dragonfs.h</a></td></tr>
<tr class="memdesc:dragonfs_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">DragonFS. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structdirectory__entry" id="r_structdirectory__entry"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfs.html#structdirectory__entry">directory_entry_t</a></td></tr>
<tr class="memdesc:structdirectory__entry"><td class="mdescLeft">&#160;</td><td class="mdescRight">Representation of a directory entry.  <a href="group__dfs.html#structdirectory__entry">More...</a><br /></td></tr>
<tr class="separator:structdirectory__entry"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structdfs__open__file__t" id="r_structdfs__open__file__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfs.html#structdfs__open__file__t">dfs_open_file_t</a></td></tr>
<tr class="memdesc:structdfs__open__file__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file handle structure.  <a href="group__dfs.html#structdfs__open__file__t">More...</a><br /></td></tr>
<tr class="separator:structdfs__open__file__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8fa12767c574a2f58b937bf32ca0f180" id="r_ga8fa12767c574a2f58b937bf32ca0f180"><td class="memItemLeft" align="right" valign="top"><a id="ga8fa12767c574a2f58b937bf32ca0f180" name="ga8fa12767c574a2f58b937bf32ca0f180"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROOT_FLAGS</b>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="memdesc:ga8fa12767c574a2f58b937bf32ca0f180"><td class="mdescLeft">&#160;</td><td class="mdescRight">The special ID value in <a class="el" href="group__dfs.html#a57e42046242d6298d88a50a15614f6f9" title="File size and flags. See FLAGS_FILE, FLAGS_DIR and FLAGS_EOF.">directory_entry::flags</a> defining the root sector. <br /></td></tr>
<tr class="separator:ga8fa12767c574a2f58b937bf32ca0f180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5edd0bfe529d35c9c2b9405f170a861f" id="r_ga5edd0bfe529d35c9c2b9405f170a861f"><td class="memItemLeft" align="right" valign="top"><a id="ga5edd0bfe529d35c9c2b9405f170a861f" name="ga5edd0bfe529d35c9c2b9405f170a861f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROOT_NEXT_ENTRY</b>&#160;&#160;&#160;0xDEADBEEF</td></tr>
<tr class="memdesc:ga5edd0bfe529d35c9c2b9405f170a861f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The special ID value in <a class="el" href="group__dfs.html#a72bcf7e7400afd36488dbe14e50d2cde" title="Offset to next directory entry.">directory_entry::next_entry</a> defining the root sector. <br /></td></tr>
<tr class="separator:ga5edd0bfe529d35c9c2b9405f170a861f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad001da02ced4ad61e2f7e152fd33a5b8" id="r_gad001da02ced4ad61e2f7e152fd33a5b8"><td class="memItemLeft" align="right" valign="top"><a id="gad001da02ced4ad61e2f7e152fd33a5b8" name="gad001da02ced4ad61e2f7e152fd33a5b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ROOT_PATH</b>&#160;&#160;&#160;&quot;DragonFS 2.0&quot;</td></tr>
<tr class="memdesc:gad001da02ced4ad61e2f7e152fd33a5b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special path value in <a class="el" href="group__dfs.html#ada5908f5c2a33e7ab5ff1d10a0e088d6" title="The file or directory name.">directory_entry::path</a> defining the root sector. <br /></td></tr>
<tr class="separator:gad001da02ced4ad61e2f7e152fd33a5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa35bad1e92008da628f27b2f6bb270aa" id="r_gaa35bad1e92008da628f27b2f6bb270aa"><td class="memItemLeft" align="right" valign="top"><a id="gaa35bad1e92008da628f27b2f6bb270aa" name="gaa35bad1e92008da628f27b2f6bb270aa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SECTOR_SIZE</b>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:gaa35bad1e92008da628f27b2f6bb270aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of a sector. <br /></td></tr>
<tr class="separator:gaa35bad1e92008da628f27b2f6bb270aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5b4142139985c33ebf12f4dacf6f61f" id="r_gaa5b4142139985c33ebf12f4dacf6f61f"><td class="memItemLeft" align="right" valign="top"><a id="gaa5b4142139985c33ebf12f4dacf6f61f" name="gaa5b4142139985c33ebf12f4dacf6f61f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SECTOR_PAYLOAD</b>&#160;&#160;&#160;252</td></tr>
<tr class="memdesc:gaa5b4142139985c33ebf12f4dacf6f61f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of a sector payload. <br /></td></tr>
<tr class="separator:gaa5b4142139985c33ebf12f4dacf6f61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d81e04e879a844f4d733a3982bf85ee" id="r_ga1d81e04e879a844f4d733a3982bf85ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfs.html#ga1d81e04e879a844f4d733a3982bf85ee">DFS_DEFAULT_LOCATION</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga1d81e04e879a844f4d733a3982bf85ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default filesystem location.  <br /></td></tr>
<tr class="separator:ga1d81e04e879a844f4d733a3982bf85ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc9794f655f61a3246ba3fd5c9c67e14" id="r_gacc9794f655f61a3246ba3fd5c9c67e14"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfs.html#gacc9794f655f61a3246ba3fd5c9c67e14">MAX_FILENAME_LEN</a>&#160;&#160;&#160;243</td></tr>
<tr class="memdesc:gacc9794f655f61a3246ba3fd5c9c67e14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum filename length.  <br /></td></tr>
<tr class="separator:gacc9794f655f61a3246ba3fd5c9c67e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae77323fbbbedb3ec4f495c7156b0344f" id="r_gae77323fbbbedb3ec4f495c7156b0344f"><td class="memItemLeft" align="right" valign="top"><a id="gae77323fbbbedb3ec4f495c7156b0344f" name="gae77323fbbbedb3ec4f495c7156b0344f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_DIRECTORY_DEPTH</b>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:gae77323fbbbedb3ec4f495c7156b0344f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum depth of directories supported. <br /></td></tr>
<tr class="separator:gae77323fbbbedb3ec4f495c7156b0344f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga935cf104eafb75f357c5469f0e2e4c95" id="r_ga935cf104eafb75f357c5469f0e2e4c95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dfs.html#ga935cf104eafb75f357c5469f0e2e4c95">FILETYPE</a>(x)&#160;&#160;&#160;((x) &amp; 3)</td></tr>
<tr class="memdesc:ga935cf104eafb75f357c5469f0e2e4c95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to extract the file type from a DragonFS file flag.  <br /></td></tr>
<tr class="separator:ga935cf104eafb75f357c5469f0e2e4c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">DragonFS Return values</h2></td></tr>
<tr class="memitem:ga22544ba337d1670f3269157e43519c0b" id="r_ga22544ba337d1670f3269157e43519c0b"><td class="memItemLeft" align="right" valign="top"><a id="ga22544ba337d1670f3269157e43519c0b" name="ga22544ba337d1670f3269157e43519c0b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFS_ESUCCESS</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga22544ba337d1670f3269157e43519c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Success. <br /></td></tr>
<tr class="separator:ga22544ba337d1670f3269157e43519c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab00a5df0dfaae4393622e700b4e2ceae" id="r_gab00a5df0dfaae4393622e700b4e2ceae"><td class="memItemLeft" align="right" valign="top"><a id="gab00a5df0dfaae4393622e700b4e2ceae" name="gab00a5df0dfaae4393622e700b4e2ceae"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFS_EBADINPUT</b>&#160;&#160;&#160;-1</td></tr>
<tr class="memdesc:gab00a5df0dfaae4393622e700b4e2ceae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input parameters invalid. <br /></td></tr>
<tr class="separator:gab00a5df0dfaae4393622e700b4e2ceae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8274880106fc107997c77d260c41f529" id="r_ga8274880106fc107997c77d260c41f529"><td class="memItemLeft" align="right" valign="top"><a id="ga8274880106fc107997c77d260c41f529" name="ga8274880106fc107997c77d260c41f529"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFS_ENOFILE</b>&#160;&#160;&#160;-2</td></tr>
<tr class="memdesc:ga8274880106fc107997c77d260c41f529"><td class="mdescLeft">&#160;</td><td class="mdescRight">File does not exist. <br /></td></tr>
<tr class="separator:ga8274880106fc107997c77d260c41f529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga536bec7130d9388a356c133a497f33c9" id="r_ga536bec7130d9388a356c133a497f33c9"><td class="memItemLeft" align="right" valign="top"><a id="ga536bec7130d9388a356c133a497f33c9" name="ga536bec7130d9388a356c133a497f33c9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFS_EBADFS</b>&#160;&#160;&#160;-3</td></tr>
<tr class="memdesc:ga536bec7130d9388a356c133a497f33c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bad filesystem. <br /></td></tr>
<tr class="separator:ga536bec7130d9388a356c133a497f33c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46a37c8e682a4f9b9c379a86e404cb65" id="r_ga46a37c8e682a4f9b9c379a86e404cb65"><td class="memItemLeft" align="right" valign="top"><a id="ga46a37c8e682a4f9b9c379a86e404cb65" name="ga46a37c8e682a4f9b9c379a86e404cb65"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFS_ENFILE</b>&#160;&#160;&#160;-4</td></tr>
<tr class="memdesc:ga46a37c8e682a4f9b9c379a86e404cb65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Too many open files. <br /></td></tr>
<tr class="separator:ga46a37c8e682a4f9b9c379a86e404cb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04d1fa223eec6ec3a9ae0c30b0196589" id="r_ga04d1fa223eec6ec3a9ae0c30b0196589"><td class="memItemLeft" align="right" valign="top"><a id="ga04d1fa223eec6ec3a9ae0c30b0196589" name="ga04d1fa223eec6ec3a9ae0c30b0196589"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DFS_EBADHANDLE</b>&#160;&#160;&#160;-5</td></tr>
<tr class="memdesc:ga04d1fa223eec6ec3a9ae0c30b0196589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invalid file handle. <br /></td></tr>
<tr class="separator:ga04d1fa223eec6ec3a9ae0c30b0196589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">DragonFS file type flags</h2></td></tr>
<tr class="memitem:ga40f46638c929774a7c8867451487239f" id="r_ga40f46638c929774a7c8867451487239f"><td class="memItemLeft" align="right" valign="top"><a id="ga40f46638c929774a7c8867451487239f" name="ga40f46638c929774a7c8867451487239f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLAGS_FILE</b>&#160;&#160;&#160;0x0</td></tr>
<tr class="memdesc:ga40f46638c929774a7c8867451487239f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a file entry. <br /></td></tr>
<tr class="separator:ga40f46638c929774a7c8867451487239f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72132c67f7a158fce46a1113c0b0e7eb" id="r_ga72132c67f7a158fce46a1113c0b0e7eb"><td class="memItemLeft" align="right" valign="top"><a id="ga72132c67f7a158fce46a1113c0b0e7eb" name="ga72132c67f7a158fce46a1113c0b0e7eb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLAGS_DIR</b>&#160;&#160;&#160;0x1</td></tr>
<tr class="memdesc:ga72132c67f7a158fce46a1113c0b0e7eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a directory entry. <br /></td></tr>
<tr class="separator:ga72132c67f7a158fce46a1113c0b0e7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b6222e558984bbd372129daf4d0f6ee" id="r_ga4b6222e558984bbd372129daf4d0f6ee"><td class="memItemLeft" align="right" valign="top"><a id="ga4b6222e558984bbd372129daf4d0f6ee" name="ga4b6222e558984bbd372129daf4d0f6ee"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLAGS_EOF</b>&#160;&#160;&#160;0x2</td></tr>
<tr class="memdesc:ga4b6222e558984bbd372129daf4d0f6ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the end of a directory list. <br /></td></tr>
<tr class="separator:ga4b6222e558984bbd372129daf4d0f6ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>DragonFS filesystem implementation and newlib hooks. </p>
<p>DragonFS is a read only ROM filesystem for the N64. It provides an interface that homebrew developers can use to load resources from cartridge space that were not available at compile time. This can mean sprites or other game assets, or the filesystem can be appended at a later time if the homebrew developer wishes end users to be able to insert custom levels, music or other assets. It is loosely based off of FAT with consideration into application and limitations of the N64.</p>
<p>The filesystem can be generated using 'mkdfs' which is included in the 'tools' directory of libdragon. Due to the read-only nature, DFS does not support empty files or empty directories. Attempting to create a filesystem with either of these using 'mkdfs' will result in an error. If a filesystem contains either empty files or empty directories, the result of manipulating the filesystem is undefined.</p>
<p>DragonFS does not support writing, renaming or symlinking of files. It supports only file and directory types.</p>
<p>DFS files have a maximum size of 256 MiB. Directories can have an unlimited number of files in them. Each token (separated by a / in the path) can be 243 characters maximum. Directories can be 100 levels deep at maximum. There can be 4 files open simultaneously.</p>
<p>When DFS is initialized, it will register itself with newlib using 'rom:/' as a prefix. Files can be accessed either with standard POSIX functions (open, fopen) using the 'rom:/' prefix or the lower-level DFS API calls without prefix. In most cases, it is not necessary to use the DFS API directly, given that the standard C functions are more comprehensive. Files can be opened using both sets of API calls simultaneously as long as no more than four files are open at any one time.</p>
<p>DragonFS does not support file compression; if you want to compress your assets, use the asset API (asset_load / <a class="el" href="asset_8h.html#ac731b2beb346c99f36fa8f355fb84509" title="Open an asset file for reading (with transparent decompression)">asset_fopen</a>). </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structdirectory__entry" id="structdirectory__entry"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structdirectory__entry">&#9670;&#160;</a></span>directory_entry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct directory_entry</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Representation of a directory entry. </p>
<p>Type definition. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a72bcf7e7400afd36488dbe14e50d2cde" name="a72bcf7e7400afd36488dbe14e50d2cde"></a>uint32_t</td>
<td class="fieldname">
next_entry</td>
<td class="fielddoc">
Offset to next directory entry. </td></tr>
<tr><td class="fieldtype">
<a id="a57e42046242d6298d88a50a15614f6f9" name="a57e42046242d6298d88a50a15614f6f9"></a>uint32_t</td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
File size and flags. See <a class="el" href="group__dfs.html#ga40f46638c929774a7c8867451487239f" title="This is a file entry.">FLAGS_FILE</a>, <a class="el" href="group__dfs.html#ga72132c67f7a158fce46a1113c0b0e7eb" title="This is a directory entry.">FLAGS_DIR</a> and <a class="el" href="group__dfs.html#ga4b6222e558984bbd372129daf4d0f6ee" title="This is the end of a directory list.">FLAGS_EOF</a>. </td></tr>
<tr><td class="fieldtype">
<a id="ada5908f5c2a33e7ab5ff1d10a0e088d6" name="ada5908f5c2a33e7ab5ff1d10a0e088d6"></a>char</td>
<td class="fieldname">
path[<a class="el" href="group__dfs.html#gacc9794f655f61a3246ba3fd5c9c67e14">MAX_FILENAME_LEN</a>+1]</td>
<td class="fielddoc">
The file or directory name. </td></tr>
<tr><td class="fieldtype">
<a id="a747d34ff6a7415f9d56a9cf2cc354503" name="a747d34ff6a7415f9d56a9cf2cc354503"></a>uint32_t</td>
<td class="fieldname">
file_pointer</td>
<td class="fielddoc">
Offset to start sector of the file. </td></tr>
</table>

</div>
</div>
<a name="structdfs__open__file__t" id="structdfs__open__file__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structdfs__open__file__t">&#9670;&#160;</a></span>dfs_open_file_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct dfs_open_file_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Open file handle structure. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a1cc7f84ffe277da9d698aaa355953a33" name="a1cc7f84ffe277da9d698aaa355953a33"></a>uint32_t</td>
<td class="fieldname">
size</td>
<td class="fielddoc">
The size in bytes of this file. </td></tr>
<tr><td class="fieldtype">
<a id="ab08b372d937c46787f4e4de467fcbfe3" name="ab08b372d937c46787f4e4de467fcbfe3"></a>uint32_t</td>
<td class="fieldname">
loc</td>
<td class="fielddoc">
The offset of the current location in the file. </td></tr>
<tr><td class="fieldtype">
<a id="a2ca5cc21b92ae6d9dc09f1275132635e" name="a2ca5cc21b92ae6d9dc09f1275132635e"></a>uint32_t</td>
<td class="fieldname">
cart_start_loc</td>
<td class="fielddoc">
The offset within the filesystem where the file is stored. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga1d81e04e879a844f4d733a3982bf85ee" name="ga1d81e04e879a844f4d733a3982bf85ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1d81e04e879a844f4d733a3982bf85ee">&#9670;&#160;</a></span>DFS_DEFAULT_LOCATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFS_DEFAULT_LOCATION&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default filesystem location. </p>
<p>The default value 0 instruct <a class="el" href="dragonfs_8h.html#a7ca0762367965bd8a6dbbe07b7ad3022" title="Initialize the filesystem.">dfs_init</a> to search for the DFS image within the rompak. </p>

</div>
</div>
<a id="gacc9794f655f61a3246ba3fd5c9c67e14" name="gacc9794f655f61a3246ba3fd5c9c67e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc9794f655f61a3246ba3fd5c9c67e14">&#9670;&#160;</a></span>MAX_FILENAME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FILENAME_LEN&#160;&#160;&#160;243</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum filename length. </p>
<p>This value is due to the direcory structure </p>

</div>
</div>
<a id="ga935cf104eafb75f357c5469f0e2e4c95" name="ga935cf104eafb75f357c5469f0e2e4c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga935cf104eafb75f357c5469f0e2e4c95">&#9670;&#160;</a></span>FILETYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILETYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((x) &amp; 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to extract the file type from a DragonFS file flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>File flags from DFS entry</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The file type flag </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 12 2024 13:29:34 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
