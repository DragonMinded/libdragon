<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: rdpq_rect.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.png"/></td>
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">rdpq_rect.h File Reference<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__display.html">Display Subsystem</a> &raquo; <a class="el" href="group__rdpq.html">RDPQ: Hardware-accelerated drawing API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>RDP Command queue.  
<a href="#details">More...</a></p>

<p><a href="rdpq__rect_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Standard rectangle functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions can be used to directly draw filled and/or textured rectangles on the screen. While a rectangle can always be drawn via two triangles, directly invoking the rectangle functions when possible is more efficient on both the CPU and the RDP.</p>
<p>The functions are defined as macros so that they can efficiently accept either integers or floating point values. Usage of fractional values is required for subpixel precision. </p>
</div></td></tr>
<tr class="memitem:a9c6405f89d2fe70046330964c21ba124" id="r_a9c6405f89d2fe70046330964c21ba124"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124">rdpq_fill_rectangle</a>(x0,  y0,  x1,  y1)</td></tr>
<tr class="memdesc:a9c6405f89d2fe70046330964c21ba124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a filled rectangle (RDP command: FILL_RECTANGLE)  <br /></td></tr>
<tr class="separator:a9c6405f89d2fe70046330964c21ba124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7196362c567172a2012f414c8a412743" id="r_a7196362c567172a2012f414c8a412743"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743">rdpq_texture_rectangle</a>(tile,  x0,  y0,  x1,  y1,  s,  t)</td></tr>
<tr class="memdesc:a7196362c567172a2012f414c8a412743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)  <br /></td></tr>
<tr class="separator:a7196362c567172a2012f414c8a412743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00bd2edd99d2555cc90fdad865195f2" id="r_ac00bd2edd99d2555cc90fdad865195f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__rect_8h.html#ac00bd2edd99d2555cc90fdad865195f2">rdpq_texture_rectangle_scaled</a>(tile,  x0,  y0,  x1,  y1,  s0,  t0,  s1,  t1)</td></tr>
<tr class="memdesc:ac00bd2edd99d2555cc90fdad865195f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a textured rectangle with scaling (RDP command: TEXTURE_RECTANGLE)  <br /></td></tr>
<tr class="separator:ac00bd2edd99d2555cc90fdad865195f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Raw rectangle functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions are similar to the above ones, but they closely match the hardware commands to be sent to RDP. They are exposed for completeness, but most users should use the standard ones, as they provide a easier and more consistent API.</p>
<p>The main differences are that these functions accept only positive integers (so clipping on negative numbers should be performed by the caller, if needed), and the textured functions need the per-pixel horizontal and vertical increments. </p>
</div></td></tr>
<tr class="memitem:abb688bef33e871b6ebe8056e61b9f981" id="r_abb688bef33e871b6ebe8056e61b9f981"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__rect_8h.html#abb688bef33e871b6ebe8056e61b9f981">rdpq_texture_rectangle_raw</a>(tile,  x0,  y0,  x1,  y1,  s0,  t0,  dsdx,  dtdy)</td></tr>
<tr class="memdesc:abb688bef33e871b6ebe8056e61b9f981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a textured rectangle with scaling &ndash; raw version (RDP command: TEXTURE_RECTANGLE)  <br /></td></tr>
<tr class="separator:abb688bef33e871b6ebe8056e61b9f981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c460fe293c4124739227e8dd87820a9" id="r_a7c460fe293c4124739227e8dd87820a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__rect_8h.html#a7c460fe293c4124739227e8dd87820a9">rdpq_texture_rectangle_flip_raw</a>(tile,  x0,  y0,  x1,  y1,  s,  t,  dsdy,  dtdx)</td></tr>
<tr class="memdesc:a7c460fe293c4124739227e8dd87820a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw a textured flipped rectangle (RDP command: TEXTURE_RECTANGLE_FLIP)  <br /></td></tr>
<tr class="separator:a7c460fe293c4124739227e8dd87820a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RDP Command queue. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a9c6405f89d2fe70046330964c21ba124" name="a9c6405f89d2fe70046330964c21ba124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c6405f89d2fe70046330964c21ba124">&#9670;&#160;</a></span>rdpq_fill_rectangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rdpq_fill_rectangle</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y1&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a filled rectangle (RDP command: FILL_RECTANGLE) </p>
<p>This command is used to render a rectangle filled with a solid color.</p>
<p>The rectangle must be defined using exclusive bottom-right bounds, so for instance <code><a class="el" href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124" title="Draw a filled rectangle (RDP command: FILL_RECTANGLE)">rdpq_fill_rectangle(10,10,30,30)</a></code> will draw a square of exactly 20x20 pixels.</p>
<p>Depending on the render mode, the way to configure the color differs:</p>
<ul>
<li>In fill mode, the color is normally configured directly via <a class="el" href="rdpq__mode_8c.html#a99c5c398b388f6d1683e7405a6058fb9" title="Reset render mode to FILL type.">rdpq_set_mode_fill</a>, and can be changed with <a class="el" href="rdpq_8c.html#a70a6556d7d088ca2b745fa145e3aeee3" title="Enqueue a SET_FILL_COLOR RDP command.">rdpq_set_fill_color</a>. Notice that fill mode does not support blending.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Fill the screen with red color.</span></div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#a99c5c398b388f6d1683e7405a6058fb9">rdpq_set_mode_fill</a>(<a class="code hl_define" href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a>(255, 0, 0, 0));</div>
<div class="line"><a class="code hl_define" href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124">rdpq_fill_rectangle</a>(0, 0, 320, 240);</div>
<div class="ttc" id="agroup__graphics_html_gae16bab5741f411ec4ef51b0295f6e705"><div class="ttname"><a href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a></div><div class="ttdeci">#define RGBA32(rx, gx, bx, ax)</div><div class="ttdoc">Create a color_t from the R,G,B,A components in the RGBA32 range (0-255).</div><div class="ttdef"><b>Definition</b> graphics.h:74</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a99c5c398b388f6d1683e7405a6058fb9"><div class="ttname"><a href="rdpq__mode_8c.html#a99c5c398b388f6d1683e7405a6058fb9">rdpq_set_mode_fill</a></div><div class="ttdeci">void rdpq_set_mode_fill(color_t color)</div><div class="ttdoc">Reset render mode to FILL type.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:299</div></div>
<div class="ttc" id="ardpq__rect_8h_html_a9c6405f89d2fe70046330964c21ba124"><div class="ttname"><a href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124">rdpq_fill_rectangle</a></div><div class="ttdeci">#define rdpq_fill_rectangle(x0, y0, x1, y1)</div><div class="ttdoc">Draw a filled rectangle (RDP command: FILL_RECTANGLE)</div><div class="ttdef"><b>Definition</b> rdpq_rect.h:249</div></div>
</div><!-- fragment --><ul>
<li>In standard mode (<a class="el" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af" title="Reset render mode to standard.">rdpq_set_mode_standard</a>), the color must be configured using the combiner, so normally by calling <a class="el" href="rdpq__mode_8c.html#a7aaec7357eb3343339d9373b1a963a57" title="Configure the color combiner.">rdpq_mode_combiner</a> with <a class="el" href="rdpq__macros_8h.html#a623cc6b579a82d6ca5086d3fbba50285" title="Draw a flat color. Configure the color via rdpq_set_prim_color.">RDPQ_COMBINER_FLAT</a>, and setting the color via <a class="el" href="rdpq_8c.html#ad25a8b6c5eb35fb2253f601c3be24867" title="Set the RDP PRIM combiner register (color only) (RDP command: SET_PRIM_COLOR)">rdpq_set_prim_color</a>. To draw a blended rectangle, activate the blender via <a class="el" href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a>, normally with <a class="el" href="rdpq__mode_8h.html#a83b5dbb31eb7e37fcab3a58ff1589e4f" title="Blending mode: multiplicative alpha.">RDPQ_BLENDER_MULTIPLY</a>.</li>
</ul>
<div class="fragment"><div class="line"><span class="comment">// Set the render mode to standard, with blending enabled</span></div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a>();</div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#a7aaec7357eb3343339d9373b1a963a57">rdpq_mode_combiner</a>(<a class="code hl_define" href="rdpq__macros_8h.html#a623cc6b579a82d6ca5086d3fbba50285">RDPQ_COMBINER_FLAT</a>);</div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a>(<a class="code hl_define" href="rdpq__mode_8h.html#a83b5dbb31eb7e37fcab3a58ff1589e4f">RDPQ_BLENDER_MULTIPLY</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set color to black, and alpha to 25% (64 out of 255)</span></div>
<div class="line"><a class="code hl_function" href="rdpq_8c.html#ad25a8b6c5eb35fb2253f601c3be24867">rdpq_set_prim_color</a>(<a class="code hl_define" href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a>(0, 0, 0, 64));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the rectangle</span></div>
<div class="line"><a class="code hl_define" href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124">rdpq_fill_rectangle</a>(10, 10, 30, 30);</div>
<div class="ttc" id="ardpq_8c_html_ad25a8b6c5eb35fb2253f601c3be24867"><div class="ttname"><a href="rdpq_8c.html#ad25a8b6c5eb35fb2253f601c3be24867">rdpq_set_prim_color</a></div><div class="ttdeci">void rdpq_set_prim_color(color_t color)</div><div class="ttdoc">Set the RDP PRIM combiner register (color only) (RDP command: SET_PRIM_COLOR)</div><div class="ttdef"><b>Definition</b> rdpq.h:949</div></div>
<div class="ttc" id="ardpq__macros_8h_html_a623cc6b579a82d6ca5086d3fbba50285"><div class="ttname"><a href="rdpq__macros_8h.html#a623cc6b579a82d6ca5086d3fbba50285">RDPQ_COMBINER_FLAT</a></div><div class="ttdeci">#define RDPQ_COMBINER_FLAT</div><div class="ttdoc">Draw a flat color. Configure the color via rdpq_set_prim_color.</div><div class="ttdef"><b>Definition</b> rdpq_macros.h:468</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a64a153623e5985ce5c434bf52ba6efa6"><div class="ttname"><a href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a></div><div class="ttdeci">void rdpq_mode_blender(rdpq_blender_t blend)</div><div class="ttdoc">Configure the formula to use for blending.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:591</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a7aaec7357eb3343339d9373b1a963a57"><div class="ttname"><a href="rdpq__mode_8c.html#a7aaec7357eb3343339d9373b1a963a57">rdpq_mode_combiner</a></div><div class="ttdeci">void rdpq_mode_combiner(rdpq_combiner_t comb)</div><div class="ttdoc">Configure the color combiner.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:465</div></div>
<div class="ttc" id="ardpq__mode_8c_html_ac3c29578703de424bea9548ad86bb4af"><div class="ttname"><a href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a></div><div class="ttdeci">void rdpq_set_mode_standard(void)</div><div class="ttdoc">Reset render mode to standard.</div><div class="ttdef"><b>Definition</b> rdpq_mode.c:92</div></div>
<div class="ttc" id="ardpq__mode_8h_html_a83b5dbb31eb7e37fcab3a58ff1589e4f"><div class="ttname"><a href="rdpq__mode_8h.html#a83b5dbb31eb7e37fcab3a58ff1589e4f">RDPQ_BLENDER_MULTIPLY</a></div><div class="ttdeci">#define RDPQ_BLENDER_MULTIPLY</div><div class="ttdoc">Blending mode: multiplicative alpha.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:499</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[x0]</td><td>x0 Top-left X coordinate of the rectangle (integer or float) </td></tr>
    <tr><td class="paramname">[y0]</td><td>y0 Top-left Y coordinate of the rectangle (integer or float) </td></tr>
    <tr><td class="paramname">[x1]</td><td>x1 Bottom-right <em>exclusive</em> X coordinate of the rectangle (integer or float) </td></tr>
    <tr><td class="paramname">[y1]</td><td>y1 Bottom-right <em>exclusive</em> Y coordinate of the rectangle (integer or float)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq_8c.html#a70a6556d7d088ca2b745fa145e3aeee3" title="Enqueue a SET_FILL_COLOR RDP command.">rdpq_set_fill_color</a> </dd>
<dd>
<a class="el" href="rdpq_8c.html#aba0d25e9f693aa1a288381c5a09ba8e1" title="Enqueue a SET_FILL_COLOR RDP command to draw a striped pattern.">rdpq_set_fill_color_stripes</a> </dd></dl>

</div>
</div>
<a id="a7196362c567172a2012f414c8a412743" name="a7196362c567172a2012f414c8a412743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7196362c567172a2012f414c8a412743">&#9670;&#160;</a></span>rdpq_texture_rectangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rdpq_texture_rectangle</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tile, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE) </p>
<p>This function enqueues a RDP TEXTURE_RECTANGLE command, that allows to draw a textured rectangle onto the framebuffer (similar to a sprite).</p>
<p>The texture must have been already loaded into TMEM via <a class="el" href="rdpq_8h.html#a7e7757331841702b18f3e3c90a91edc6" title="Load a portion of a texture into TMEM (RDP command: LOAD_TILE)">rdpq_load_tile</a> or <a class="el" href="rdpq_8c.html#a9b37267136cf8b04374eb3ac668046f2" title="Load a texture image into TMEM with a single contiguous memory transfer (RDP command: LOAD_BLOCK)">rdpq_load_block</a>, and a tile descriptor referring to it must be passed to this function.</p>
<p>Input X and Y coordinates are automatically clipped to the screen boundaries (and then scissoring also takes effect), so there is no specific range limit to them. On the contrary, S and T coordinates have a specific range (-1024..1024).</p>
<p>When x0 &gt; x1 or y0 &gt; y1, the rectangle is drawn flipped (mirrored) on either axis (or both, which basically rotates it by 180° instead).</p>
<p>Before calling this function, make sure to also configure an appropriate render mode. It is possible to use the fast copy mode (<a class="el" href="rdpq__mode_8c.html#a8a821b9f3d3e6da106695290bebe1392" title="Reset render mode to COPY type.">rdpq_set_mode_copy</a>) with this function, assuming that advanced blending or color combiner capabilities are not needed. The copy mode can in fact just blit the pixels from the texture unmodified, applying only a per-pixel rejection to mask out transparent pixels (via alpha compare). See <a class="el" href="rdpq__mode_8c.html#a8a821b9f3d3e6da106695290bebe1392" title="Reset render mode to COPY type.">rdpq_set_mode_copy</a> for more information.</p>
<p>Alternatively, it is possible to use this command also in standard render mode (<a class="el" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af" title="Reset render mode to standard.">rdpq_set_mode_standard</a>), with all the per-pixel blending / combining features.</p>
<p>Normally, rectangles are drawn without any respect for the z-buffer (if any is configured). The only option here is to provide a single Z value valid for the whole rectangle by using <a class="el" href="rdpq__mode_8c.html#ac19dea948e3d7d283a116195a9b61502" title="Set a fixed override of Z value.">rdpq_mode_zoverride</a> in the mode API (or manually calling <a class="el" href="rdpq_8c.html#a0dd5aa2fa09bcda9659c83dc67b896c9" title="Set a fixed Z value to be used instead of a per-pixel value (RDP command; SET_PRIM_DEPTH)">rdpq_set_prim_depth_raw</a>). In fact, it is not possible to specify a per-vertex Z value.</p>
<p>Similarly, it is not possible to specify a per-vertex color/shade value, but instead it is possible to setup a combiner that applies a fixed color to the pixels of the rectangle (eg: <a class="el" href="rdpq__macros_8h.html#a11868571a75d3b93802567de631c7e38" title="Draw with a texture modulated with a flat color. Configure the color via rdpq_set_prim_color.">RDPQ_COMBINER_TEX_FLAT</a>).</p>
<p>If you need a full Z-buffering or shading support, an alternative is to call <a class="el" href="rdpq__tri_8c.html#afb11d915a7ce8903b2b3e5ed9ef7936e" title="Draw a triangle (RDP command: TRI_*)">rdpq_triangle</a> instead, and thus draw the rectangles as two triangles. This will however incur in more overhead on the CPU to setup the primitives.</p>
<p>NOTE: implemented using a macro here to support both integer and float inputs without ever forcing a useless additional conversion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tile</td><td>Tile descriptor referring to the texture in TMEM to use for drawing </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x0</td><td>Top-left X coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y0</td><td>Top-left Y coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x1</td><td>Bottom-right <em>exclusive</em> X coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y1</td><td>Bottom-right <em>exclusive</em> Y coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>S coordinate of the texture at the top-left corner (range: -1024..1024) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>T coordinate of the texture at the top-left corner (range: -1024..1024) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac00bd2edd99d2555cc90fdad865195f2" name="ac00bd2edd99d2555cc90fdad865195f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00bd2edd99d2555cc90fdad865195f2">&#9670;&#160;</a></span>rdpq_texture_rectangle_scaled</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rdpq_texture_rectangle_scaled</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tile, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t1&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a textured rectangle with scaling (RDP command: TEXTURE_RECTANGLE) </p>
<p>This function is similar to <a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a> but allows the rectangle to be scaled horizontally and/or vertically, by specifying both the source rectangle in the texture, and the rectangle on the screen.</p>
<p>Refer to <a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a> for more details on how this command works.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tile</td><td>Tile descriptor referring to the texture in TMEM to use for drawing </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x0</td><td>Top-left X coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y0</td><td>Top-left Y coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x1</td><td>Bottom-right <em>exclusive</em> X coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y1</td><td>Bottom-right <em>exclusive</em> Y coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s0</td><td>S coordinate of the texture at the top-left corner (range: -1024..1024) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t0</td><td>T coordinate of the texture at the top-left corner (range: -1024..1024) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s1</td><td>S coordinate of the texture at the bottom-right corner (exclusive) (range: -1024..1024) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t1</td><td>T coordinate of the texture at the bottom-right corner (exclusive) (range: -1024..1024) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb688bef33e871b6ebe8056e61b9f981" name="abb688bef33e871b6ebe8056e61b9f981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb688bef33e871b6ebe8056e61b9f981">&#9670;&#160;</a></span>rdpq_texture_rectangle_raw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rdpq_texture_rectangle_raw</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tile, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dsdx, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dtdy&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a textured rectangle with scaling &ndash; raw version (RDP command: TEXTURE_RECTANGLE) </p>
<p>This function is similar to <a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a> but it does not perform any preprocessing on the input coordinates. Most users should use <a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a> or <a class="el" href="rdpq__rect_8h.html#ac00bd2edd99d2555cc90fdad865195f2" title="Draw a textured rectangle with scaling (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle_scaled</a> instead.</p>
<p>Refer to <a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a> for more details on how this command works.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tile</td><td>Tile descriptor referring to the texture in TMEM to use for drawing </td></tr>
    <tr><td class="paramname">x0</td><td>Top-left X coordinate of the rectangle (range: 0..1024) </td></tr>
    <tr><td class="paramname">y0</td><td>Top-left Y coordinate of the rectangle (range: 0..1024) </td></tr>
    <tr><td class="paramname">x1</td><td>Bottom-right <em>exclusive</em> X coordinate of the rectangle (range: 0..1024) </td></tr>
    <tr><td class="paramname">y1</td><td>Bottom-right <em>exclusive</em> Y coordinate of the rectangle (range: 0..1024) </td></tr>
    <tr><td class="paramname">s0</td><td>S coordinate of the texture at the top-left corner (range: -1024..1024) </td></tr>
    <tr><td class="paramname">t0</td><td>T coordinate of the texture at the top-left corner (range: -1024..1024) </td></tr>
    <tr><td class="paramname">dsdx</td><td>Horizontal increment of S coordinate per pixel (range: -32..32) </td></tr>
    <tr><td class="paramname">dtdy</td><td>Vertical increment of T coordinate per pixel (range: -32..32)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a> </dd>
<dd>
<a class="el" href="rdpq__rect_8h.html#ac00bd2edd99d2555cc90fdad865195f2" title="Draw a textured rectangle with scaling (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle_scaled</a> </dd></dl>

</div>
</div>
<a id="a7c460fe293c4124739227e8dd87820a9" name="a7c460fe293c4124739227e8dd87820a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c460fe293c4124739227e8dd87820a9">&#9670;&#160;</a></span>rdpq_texture_rectangle_flip_raw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rdpq_texture_rectangle_flip_raw</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tile, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y0, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dsdy, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dtdx&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw a textured flipped rectangle (RDP command: TEXTURE_RECTANGLE_FLIP) </p>
<p>The RDP command TEXTURE_RECTANGLE_FLIP is similar to TEXTURE_RECTANGLE, but the texture S coordinate is incremented over the Y axis, while the texture T coordinate is incremented over the X axis. The graphical effect is similar to a 90° degree rotation plus a mirroring of the texture.</p>
<p>Notice that this command cannot work in COPY mode, so the standard render mode must be activated (via <a class="el" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af" title="Reset render mode to standard.">rdpq_set_mode_standard</a>).</p>
<p>Refer to <a class="el" href="rdpq__rect_8h.html#abb688bef33e871b6ebe8056e61b9f981" title="Draw a textured rectangle with scaling – raw version (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle_raw</a> for further information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tile</td><td>Tile descriptor referring to the texture in TMEM to use for drawing </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x0</td><td>Top-left X coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y0</td><td>Top-left Y coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x1</td><td>Bottom-right <em>exclusive</em> X coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y1</td><td>Bottom-right <em>exclusive</em> Y coordinate of the rectangle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>S coordinate of the texture at the top-left corner </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>T coordinate of the texture at the top-left corner </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dsdy</td><td>Signed increment of S coordinate for each vertical pixel. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dtdx</td><td>Signed increment of T coordinate for each horizontal pixel. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 13 2024 18:48:01 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
