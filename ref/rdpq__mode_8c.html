<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdragon: rdpq_mode.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.png"/></td>
  <td id="projectalign">
   <div id="projectname">libdragon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e82f31e8932771ae6769214a98ceba7f.html">rdpq</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">rdpq_mode.c File Reference<div class="ingroups"><a class="el" href="group__libdragon.html">libdragon</a> &raquo; <a class="el" href="group__display.html">Display Subsystem</a> &raquo; <a class="el" href="group__rdp.html">(Deprecated) Old RDP library</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>RDP Command queue: mode setting.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2fcadb73bd2f07f9de5efb23dc38e9e3" id="r_a2fcadb73bd2f07f9de5efb23dc38e9e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a2fcadb73bd2f07f9de5efb23dc38e9e3">rdpq_mode_write</a>(num_rdp_commands, ...)</td></tr>
<tr class="memdesc:a2fcadb73bd2f07f9de5efb23dc38e9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="rdpq_8h.html#afa4205c5a6dbf58f7cb665a3c68d1991" title="Enqueue a RSP command that also generates RDP commands.">rdpq_write</a>, but for mode commands.  <br /></td></tr>
<tr class="separator:a2fcadb73bd2f07f9de5efb23dc38e9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a55895f6ada7238b40eeea2aab76c0b74" id="r_a55895f6ada7238b40eeea2aab76c0b74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a55895f6ada7238b40eeea2aab76c0b74">__rdpq_fixup_mode</a> (uint32_t cmd_id, uint32_t w0, uint32_t w1)</td></tr>
<tr class="memdesc:a55895f6ada7238b40eeea2aab76c0b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a fixup that changes the current render mode (8-byte command)  <br /></td></tr>
<tr class="separator:a55895f6ada7238b40eeea2aab76c0b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d7da08385fd7985778252f6f16d725" id="r_a69d7da08385fd7985778252f6f16d725"><td class="memItemLeft" align="right" valign="top"><a id="a69d7da08385fd7985778252f6f16d725" name="a69d7da08385fd7985778252f6f16d725"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__rdpq_fixup_mode3</b> (uint32_t cmd_id, uint32_t w0, uint32_t w1, uint32_t w2)</td></tr>
<tr class="memdesc:a69d7da08385fd7985778252f6f16d725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a fixup that changes the current render mode (12-byte command) <br /></td></tr>
<tr class="separator:a69d7da08385fd7985778252f6f16d725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da86d8c386467649ee38ec123954c5f" id="r_a9da86d8c386467649ee38ec123954c5f"><td class="memItemLeft" align="right" valign="top"><a id="a9da86d8c386467649ee38ec123954c5f" name="a9da86d8c386467649ee38ec123954c5f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__rdpq_fixup_mode4</b> (uint32_t cmd_id, uint32_t w0, uint32_t w1, uint32_t w2, uint32_t w3)</td></tr>
<tr class="memdesc:a9da86d8c386467649ee38ec123954c5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a fixup that changes the current render mode (16-byte command) <br /></td></tr>
<tr class="separator:a9da86d8c386467649ee38ec123954c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1958f1797cd7854bb561f846e475f5a" id="r_aa1958f1797cd7854bb561f846e475f5a"><td class="memItemLeft" align="right" valign="top"><a id="aa1958f1797cd7854bb561f846e475f5a" name="aa1958f1797cd7854bb561f846e475f5a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__rdpq_reset_render_mode</b> (uint32_t w0, uint32_t w1, uint32_t w2, uint32_t w3)</td></tr>
<tr class="memdesc:aa1958f1797cd7854bb561f846e475f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a fixup to reset the render mode. <br /></td></tr>
<tr class="separator:aa1958f1797cd7854bb561f846e475f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e81490ca8248e9b6611d972d85c2af2" id="r_a0e81490ca8248e9b6611d972d85c2af2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a0e81490ca8248e9b6611d972d85c2af2">rdpq_mode_push</a> (void)</td></tr>
<tr class="memdesc:a0e81490ca8248e9b6611d972d85c2af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push the current render mode into the stack.  <br /></td></tr>
<tr class="separator:a0e81490ca8248e9b6611d972d85c2af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b6181f5298625ab630914102938eb0" id="r_ad7b6181f5298625ab630914102938eb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#ad7b6181f5298625ab630914102938eb0">rdpq_mode_pop</a> (void)</td></tr>
<tr class="memdesc:ad7b6181f5298625ab630914102938eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop the current render mode from the stack.  <br /></td></tr>
<tr class="separator:ad7b6181f5298625ab630914102938eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4a80b2ea1d800fa1ccaf6a062cd2af" id="r_a9e4a80b2ea1d800fa1ccaf6a062cd2af"><td class="memItemLeft" align="right" valign="top"><a id="a9e4a80b2ea1d800fa1ccaf6a062cd2af" name="a9e4a80b2ea1d800fa1ccaf6a062cd2af"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>__rdpq_set_mode_fill</b> (void)</td></tr>
<tr class="memdesc:a9e4a80b2ea1d800fa1ccaf6a062cd2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like <a class="el" href="rdpq__mode_8c.html#a99c5c398b388f6d1683e7405a6058fb9" title="Reset render mode to FILL type.">rdpq_set_mode_fill</a>, but without fill color configuration. <br /></td></tr>
<tr class="separator:a9e4a80b2ea1d800fa1ccaf6a062cd2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a821b9f3d3e6da106695290bebe1392" id="r_a8a821b9f3d3e6da106695290bebe1392"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a8a821b9f3d3e6da106695290bebe1392">rdpq_set_mode_copy</a> (bool transparency)</td></tr>
<tr class="memdesc:a8a821b9f3d3e6da106695290bebe1392"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset render mode to COPY type.  <br /></td></tr>
<tr class="separator:a8a821b9f3d3e6da106695290bebe1392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c29578703de424bea9548ad86bb4af" id="r_ac3c29578703de424bea9548ad86bb4af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a> (void)</td></tr>
<tr class="memdesc:ac3c29578703de424bea9548ad86bb4af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset render mode to standard.  <br /></td></tr>
<tr class="separator:ac3c29578703de424bea9548ad86bb4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7139248e5407639131d0592647d2ff28" id="r_a7139248e5407639131d0592647d2ff28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a7139248e5407639131d0592647d2ff28">rdpq_set_mode_yuv</a> (bool bilinear)</td></tr>
<tr class="memdesc:a7139248e5407639131d0592647d2ff28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset render mode to YUV mode.  <br /></td></tr>
<tr class="separator:a7139248e5407639131d0592647d2ff28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8403608ccbb00ecda19fcacb5b59a3" id="r_abc8403608ccbb00ecda19fcacb5b59a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#abc8403608ccbb00ecda19fcacb5b59a3">rdpq_mode_begin</a> (void)</td></tr>
<tr class="memdesc:abc8403608ccbb00ecda19fcacb5b59a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a batch of RDP mode changes.  <br /></td></tr>
<tr class="separator:abc8403608ccbb00ecda19fcacb5b59a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad609d6c48eb715b18044e7cfc1bb6c30" id="r_ad609d6c48eb715b18044e7cfc1bb6c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#ad609d6c48eb715b18044e7cfc1bb6c30">rdpq_mode_end</a> (void)</td></tr>
<tr class="memdesc:ad609d6c48eb715b18044e7cfc1bb6c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish a batch of RDP mode changes.  <br /></td></tr>
<tr class="separator:ad609d6c48eb715b18044e7cfc1bb6c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c5c398b388f6d1683e7405a6058fb9" id="r_a99c5c398b388f6d1683e7405a6058fb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a99c5c398b388f6d1683e7405a6058fb9">rdpq_set_mode_fill</a> (<a class="el" href="group__graphics.html#structcolor__t">color_t</a> color)</td></tr>
<tr class="memdesc:a99c5c398b388f6d1683e7405a6058fb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset render mode to FILL type.  <br /></td></tr>
<tr class="separator:a99c5c398b388f6d1683e7405a6058fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaec7357eb3343339d9373b1a963a57" id="r_a7aaec7357eb3343339d9373b1a963a57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a7aaec7357eb3343339d9373b1a963a57">rdpq_mode_combiner</a> (<a class="el" href="rdpq__macros_8h.html#a57a7ebf93023895db81d937866b00223">rdpq_combiner_t</a> comb)</td></tr>
<tr class="memdesc:a7aaec7357eb3343339d9373b1a963a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the color combiner.  <br /></td></tr>
<tr class="separator:a7aaec7357eb3343339d9373b1a963a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64a153623e5985ce5c434bf52ba6efa6" id="r_a64a153623e5985ce5c434bf52ba6efa6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a> (<a class="el" href="rdpq__macros_8h.html#ad903433712249392fb3ba0b3f8803cd7">rdpq_blender_t</a> blend)</td></tr>
<tr class="memdesc:a64a153623e5985ce5c434bf52ba6efa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the formula to use for blending.  <br /></td></tr>
<tr class="separator:a64a153623e5985ce5c434bf52ba6efa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91fce068e270697a409cf54cf4c2058b" id="r_a91fce068e270697a409cf54cf4c2058b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a91fce068e270697a409cf54cf4c2058b">rdpq_mode_antialias</a> (<a class="el" href="rdpq__mode_8h.html#a59160968c70168c743a484d8f7c93bcb">rdpq_antialias_t</a> mode)</td></tr>
<tr class="memdesc:a91fce068e270697a409cf54cf4c2058b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate antialiasing.  <br /></td></tr>
<tr class="separator:a91fce068e270697a409cf54cf4c2058b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a484d0b44367b4fdc42ec5f416c715b" id="r_a7a484d0b44367b4fdc42ec5f416c715b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a7a484d0b44367b4fdc42ec5f416c715b">rdpq_mode_fog</a> (<a class="el" href="rdpq__macros_8h.html#ad903433712249392fb3ba0b3f8803cd7">rdpq_blender_t</a> fog)</td></tr>
<tr class="memdesc:a7a484d0b44367b4fdc42ec5f416c715b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable fog.  <br /></td></tr>
<tr class="separator:a7a484d0b44367b4fdc42ec5f416c715b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9635e378432a4422d25953bf5e0425c4" id="r_a9635e378432a4422d25953bf5e0425c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a9635e378432a4422d25953bf5e0425c4">rdpq_mode_dithering</a> (<a class="el" href="rdpq__mode_8h.html#ab0ab3a62df1bd846c213c25a1d155095">rdpq_dither_t</a> dither)</td></tr>
<tr class="memdesc:a9635e378432a4422d25953bf5e0425c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change dithering mode.  <br /></td></tr>
<tr class="separator:a9635e378432a4422d25953bf5e0425c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a998fa3f248243cf1d698fd4715b9a" id="r_ae6a998fa3f248243cf1d698fd4715b9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#ae6a998fa3f248243cf1d698fd4715b9a">rdpq_mode_alphacompare</a> (int threshold)</td></tr>
<tr class="memdesc:ae6a998fa3f248243cf1d698fd4715b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate alpha compare feature.  <br /></td></tr>
<tr class="separator:ae6a998fa3f248243cf1d698fd4715b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfc04446fb593f51d5157d02dc8e4b17" id="r_adfc04446fb593f51d5157d02dc8e4b17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#adfc04446fb593f51d5157d02dc8e4b17">rdpq_mode_zbuf</a> (bool compare, bool <a class="el" href="system_8c.html#aeb8090da2a212e27317ea48ead1a19d6">write</a>)</td></tr>
<tr class="memdesc:adfc04446fb593f51d5157d02dc8e4b17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate z-buffer usage.  <br /></td></tr>
<tr class="separator:adfc04446fb593f51d5157d02dc8e4b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19dea948e3d7d283a116195a9b61502" id="r_ac19dea948e3d7d283a116195a9b61502"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#ac19dea948e3d7d283a116195a9b61502">rdpq_mode_zoverride</a> (bool enable, float z, int16_t deltaz)</td></tr>
<tr class="memdesc:ac19dea948e3d7d283a116195a9b61502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a fixed override of Z value.  <br /></td></tr>
<tr class="separator:ac19dea948e3d7d283a116195a9b61502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5d5cab3092397225bfc40fffd1ab7d" id="r_aeb5d5cab3092397225bfc40fffd1ab7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#aeb5d5cab3092397225bfc40fffd1ab7d">rdpq_mode_tlut</a> (<a class="el" href="rdpq__mode_8h.html#af94fffeeb6056f4af25fc52405e7d38c">rdpq_tlut_t</a> tlut)</td></tr>
<tr class="memdesc:aeb5d5cab3092397225bfc40fffd1ab7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate palette lookup during drawing.  <br /></td></tr>
<tr class="separator:aeb5d5cab3092397225bfc40fffd1ab7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb95d62232b270c2da42b77c9bf13bd" id="r_a3fb95d62232b270c2da42b77c9bf13bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a3fb95d62232b270c2da42b77c9bf13bd">rdpq_mode_filter</a> (<a class="el" href="rdpq__mode_8h.html#a83a5cb18caf8551ba080756f5615328c">rdpq_filter_t</a> s)</td></tr>
<tr class="memdesc:a3fb95d62232b270c2da42b77c9bf13bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate texture filtering.  <br /></td></tr>
<tr class="separator:a3fb95d62232b270c2da42b77c9bf13bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3501e4de775e105112bf4efcc7717926" id="r_a3501e4de775e105112bf4efcc7717926"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a3501e4de775e105112bf4efcc7717926">rdpq_mode_mipmap</a> (<a class="el" href="rdpq__mode_8h.html#af881bfd1d140d97a1707c30e476787bd">rdpq_mipmap_t</a> mode, int num_levels)</td></tr>
<tr class="memdesc:a3501e4de775e105112bf4efcc7717926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate mip-mapping.  <br /></td></tr>
<tr class="separator:a3501e4de775e105112bf4efcc7717926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647e0ab41c68805c849389ddc61c9c56" id="r_a647e0ab41c68805c849389ddc61c9c56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdpq__mode_8c.html#a647e0ab41c68805c849389ddc61c9c56">rdpq_mode_persp</a> (bool perspective)</td></tr>
<tr class="memdesc:a647e0ab41c68805c849389ddc61c9c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate perspective correction for textures.  <br /></td></tr>
<tr class="separator:a647e0ab41c68805c849389ddc61c9c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RDP Command queue: mode setting. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2fcadb73bd2f07f9de5efb23dc38e9e3" name="a2fcadb73bd2f07f9de5efb23dc38e9e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fcadb73bd2f07f9de5efb23dc38e9e3">&#9670;&#160;</a></span>rdpq_mode_write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rdpq_mode_write</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">num_rdp_commands, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ({ \</div>
<div class="line">    rdpq_write(<a class="code hl_variable" href="rdpq_8c.html#a8056a83469cbf54042ddf897d474c7cc">rdpq_tracking</a>.<a class="code hl_variable" href="rdpq__internal_8h.html#ab8bd2c9579eae6b3e65b80a66881a4bf">mode_freeze</a> ? 0 : num_rdp_commands, ##__VA_ARGS__); \</div>
<div class="line">})</div>
<div class="ttc" id="ardpq_8c_html_a8056a83469cbf54042ddf897d474c7cc"><div class="ttname"><a href="rdpq_8c.html#a8056a83469cbf54042ddf897d474c7cc">rdpq_tracking</a></div><div class="ttdeci">rdpq_tracking_t rdpq_tracking</div><div class="ttdoc">Tracking state of RDP.</div><div class="ttdef"><b>Definition</b> rdpq.c:408</div></div>
<div class="ttc" id="ardpq__internal_8h_html_ab8bd2c9579eae6b3e65b80a66881a4bf"><div class="ttname"><a href="rdpq__internal_8h.html#ab8bd2c9579eae6b3e65b80a66881a4bf">rdpq_tracking_t::mode_freeze</a></div><div class="ttdeci">bool mode_freeze</div><div class="ttdoc">True if the mode changes are currently frozen.</div><div class="ttdef"><b>Definition</b> rdpq_internal.h:55</div></div>
</div><!-- fragment -->
<p>Like <a class="el" href="rdpq_8h.html#afa4205c5a6dbf58f7cb665a3c68d1991" title="Enqueue a RSP command that also generates RDP commands.">rdpq_write</a>, but for mode commands. </p>
<p>During freeze (<a class="el" href="rdpq__mode_8c.html#abc8403608ccbb00ecda19fcacb5b59a3" title="Start a batch of RDP mode changes.">rdpq_mode_begin</a>), mode commands don't emit RDP commands as they are batched instead, so we can avoid reserving space in the RDP static buffer in blocks. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a55895f6ada7238b40eeea2aab76c0b74" name="a55895f6ada7238b40eeea2aab76c0b74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55895f6ada7238b40eeea2aab76c0b74">&#9670;&#160;</a></span>__rdpq_fixup_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __rdpq_fixup_mode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cmd_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>w0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>w1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a fixup that changes the current render mode (8-byte command) </p>
<p>All the mode fixups always need to update the RDP render mode and thus generate two RDP commands: SET_COMBINE and SET_OTHER_MODES. </p>

</div>
</div>
<a id="a0e81490ca8248e9b6611d972d85c2af2" name="a0e81490ca8248e9b6611d972d85c2af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e81490ca8248e9b6611d972d85c2af2">&#9670;&#160;</a></span>rdpq_mode_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_push </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push the current render mode into the stack. </p>
<p>This function allows to push the current render mode into an internal stack. It allows to temporarily modify the render mode, and later recover its value.</p>
<p>This is effective on all render mode changes that can be modified via rdpq_mode_* function. It does not affect other RDP configurations such as the various colors.</p>
<p>The stack has 4 slots (including the current one). </p>

</div>
</div>
<a id="ad7b6181f5298625ab630914102938eb0" name="ad7b6181f5298625ab630914102938eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b6181f5298625ab630914102938eb0">&#9670;&#160;</a></span>rdpq_mode_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_pop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop the current render mode from the stack. </p>
<p>This function allows to pop a previously pushed render mode from the stack, setting it as current again. </p>

</div>
</div>
<a id="a8a821b9f3d3e6da106695290bebe1392" name="a8a821b9f3d3e6da106695290bebe1392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a821b9f3d3e6da106695290bebe1392">&#9670;&#160;</a></span>rdpq_set_mode_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_set_mode_copy </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>transparency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset render mode to COPY type. </p>
<p>This function sets the render mode type to COPY, which is used to quickly blit bitmaps. In COPY mode, only texture rectangles (aka "sprites") can be drawn and no advanced render mode features are working (rdpq_mode_* functions).</p>
<p>The only available feature is transparency: pixels with alpha set to 0 can optionally be discarded during blit, so that the target buffer contents is not overwritten for those pixels. This is implemented using alpha compare.</p>
<p>The COPY mode is approximately 4 times faster at drawing than the standard mode, so make sure to enable it whenever it is possible.</p>
<dl class="section note"><dt>Note</dt><dd>The COPY mode only works with 16-bpp framebuffers. It will trigger a hardware crash (!) on 32-bpp framebuffers, so avoid using it. The validator will warn you about this anyway.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transparency</td><td>If true, pixels with alpha set to 0 are not drawn</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__mode_8h.html#ac3c29578703de424bea9548ad86bb4af" title="Reset render mode to standard.">rdpq_set_mode_standard</a> </dd></dl>

</div>
</div>
<a id="ac3c29578703de424bea9548ad86bb4af" name="ac3c29578703de424bea9548ad86bb4af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3c29578703de424bea9548ad86bb4af">&#9670;&#160;</a></span>rdpq_set_mode_standard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_set_mode_standard </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset render mode to standard. </p>
<p>This is the most basic and general mode reset function. It configures the RDP processor in a standard and very basic way:</p>
<ul>
<li>Basic texturing (without shading)</li>
<li>No dithering, antialiasing, blending, etc.</li>
</ul>
<p>You can further configure the mode by calling one of the many functions in the mode API (<code>rdpq_mode_*</code>). </p>

</div>
</div>
<a id="a7139248e5407639131d0592647d2ff28" name="a7139248e5407639131d0592647d2ff28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7139248e5407639131d0592647d2ff28">&#9670;&#160;</a></span>rdpq_set_mode_yuv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_set_mode_yuv </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bilinear</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset render mode to YUV mode. </p>
<p>This is a helper function to configure a render mode for YUV conversion. In addition of setting the render mode, this function also configures a combiner (given that YUV conversion happens also at the combiner level), and set standard YUV parameters (for BT.601 TV Range).</p>
<p>After setting the YUV mode, you can load YUV textures to TMEM (using a surface with <a class="el" href="surface_8h.html#a01f43f3d6c80a7658bf729bfaf3136e1a303eb8a72aa1cd29e0314012f5bae6d3" title="Format YUV2 4:2:2 (data interleaved as YUYV)">FMT_YUV16</a>), and then draw them on the screen as part of triangles or rectangles.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bilinear</td><td>If true, YUV textures will also be filtered with bilinear interpolation (note: this will require 2-cycle mode so it will be twice as slow). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abc8403608ccbb00ecda19fcacb5b59a3" name="abc8403608ccbb00ecda19fcacb5b59a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8403608ccbb00ecda19fcacb5b59a3">&#9670;&#160;</a></span>rdpq_mode_begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a batch of RDP mode changes. </p>
<p>This function can be used as an optimization when changing render mode and/or multiple render states. It allows to batch the changes, so that RDP hardware registers are updated only once.</p>
<p>To use it, put a call to <a class="el" href="rdpq__mode_8h.html#abc8403608ccbb00ecda19fcacb5b59a3" title="Start a batch of RDP mode changes.">rdpq_mode_begin</a> and <a class="el" href="rdpq__mode_8h.html#ad609d6c48eb715b18044e7cfc1bb6c30" title="Finish a batch of RDP mode changes.">rdpq_mode_end</a> around the mode functions that you would like to batch. For instance:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#abc8403608ccbb00ecda19fcacb5b59a3">rdpq_mode_begin</a>();</div>
<div class="line">    <a class="code hl_function" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a>();</div>
<div class="line">    <a class="code hl_function" href="rdpq__mode_8c.html#a3501e4de775e105112bf4efcc7717926">rdpq_mode_mipmap</a>(<a class="code hl_enumvalue" href="rdpq__mode_8h.html#af881bfd1d140d97a1707c30e476787bda4c0e0308384c16155ba70b6478a19a1d">MIPMAP_INTERPOLATE</a>, 2);</div>
<div class="line">    <a class="code hl_function" href="rdpq__mode_8c.html#a9635e378432a4422d25953bf5e0425c4">rdpq_mode_dithering</a>(<a class="code hl_enumvalue" href="rdpq__mode_8h.html#ab0ab3a62df1bd846c213c25a1d155095a515382c5bc42487a5dfffd2f1ffeb2f2">DITHER_SQUARE_SQUARE</a>);</div>
<div class="line">    <a class="code hl_function" href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a>(RDPQ_BLENDING_MULTIPLY);</div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#ad609d6c48eb715b18044e7cfc1bb6c30">rdpq_mode_end</a>();</div>
<div class="ttc" id="ardpq__mode_8c_html_a3501e4de775e105112bf4efcc7717926"><div class="ttname"><a href="rdpq__mode_8c.html#a3501e4de775e105112bf4efcc7717926">rdpq_mode_mipmap</a></div><div class="ttdeci">void rdpq_mode_mipmap(rdpq_mipmap_t mode, int num_levels)</div><div class="ttdoc">Activate mip-mapping.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:802</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a64a153623e5985ce5c434bf52ba6efa6"><div class="ttname"><a href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a></div><div class="ttdeci">void rdpq_mode_blender(rdpq_blender_t blend)</div><div class="ttdoc">Configure the formula to use for blending.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:591</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a9635e378432a4422d25953bf5e0425c4"><div class="ttname"><a href="rdpq__mode_8c.html#a9635e378432a4422d25953bf5e0425c4">rdpq_mode_dithering</a></div><div class="ttdeci">void rdpq_mode_dithering(rdpq_dither_t dither)</div><div class="ttdoc">Change dithering mode.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:664</div></div>
<div class="ttc" id="ardpq__mode_8c_html_abc8403608ccbb00ecda19fcacb5b59a3"><div class="ttname"><a href="rdpq__mode_8c.html#abc8403608ccbb00ecda19fcacb5b59a3">rdpq_mode_begin</a></div><div class="ttdeci">void rdpq_mode_begin(void)</div><div class="ttdoc">Start a batch of RDP mode changes.</div><div class="ttdef"><b>Definition</b> rdpq_mode.c:133</div></div>
<div class="ttc" id="ardpq__mode_8c_html_ac3c29578703de424bea9548ad86bb4af"><div class="ttname"><a href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a></div><div class="ttdeci">void rdpq_set_mode_standard(void)</div><div class="ttdoc">Reset render mode to standard.</div><div class="ttdef"><b>Definition</b> rdpq_mode.c:92</div></div>
<div class="ttc" id="ardpq__mode_8c_html_ad609d6c48eb715b18044e7cfc1bb6c30"><div class="ttname"><a href="rdpq__mode_8c.html#ad609d6c48eb715b18044e7cfc1bb6c30">rdpq_mode_end</a></div><div class="ttdeci">void rdpq_mode_end(void)</div><div class="ttdoc">Finish a batch of RDP mode changes.</div><div class="ttdef"><b>Definition</b> rdpq_mode.c:143</div></div>
<div class="ttc" id="ardpq__mode_8h_html_ab0ab3a62df1bd846c213c25a1d155095a515382c5bc42487a5dfffd2f1ffeb2f2"><div class="ttname"><a href="rdpq__mode_8h.html#ab0ab3a62df1bd846c213c25a1d155095a515382c5bc42487a5dfffd2f1ffeb2f2">DITHER_SQUARE_SQUARE</a></div><div class="ttdeci">@ DITHER_SQUARE_SQUARE</div><div class="ttdoc">Dithering: RGB=Square, Alpha=Square.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:199</div></div>
<div class="ttc" id="ardpq__mode_8h_html_af881bfd1d140d97a1707c30e476787bda4c0e0308384c16155ba70b6478a19a1d"><div class="ttname"><a href="rdpq__mode_8h.html#af881bfd1d140d97a1707c30e476787bda4c0e0308384c16155ba70b6478a19a1d">MIPMAP_INTERPOLATE</a></div><div class="ttdeci">@ MIPMAP_INTERPOLATE</div><div class="ttdoc">Interpolate between the two nearest mipmap levels (also known as &quot;trilinear&quot;)</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:248</div></div>
</div><!-- fragment --><p>The only effect of using <a class="el" href="rdpq__mode_8h.html#abc8403608ccbb00ecda19fcacb5b59a3" title="Start a batch of RDP mode changes.">rdpq_mode_begin</a> is more efficient RSP and RDP usage, there is no semantic change in the way RDP is programmed when <a class="el" href="rdpq__mode_8h.html#ad609d6c48eb715b18044e7cfc1bb6c30" title="Finish a batch of RDP mode changes.">rdpq_mode_end</a> is called.</p>
<dl class="section note"><dt>Note</dt><dd>The functions affected by <a class="el" href="rdpq__mode_8h.html#abc8403608ccbb00ecda19fcacb5b59a3" title="Start a batch of RDP mode changes.">rdpq_mode_begin</a> / <a class="el" href="rdpq__mode_8h.html#ad609d6c48eb715b18044e7cfc1bb6c30" title="Finish a batch of RDP mode changes.">rdpq_mode_end</a> are just those that are part of the mode API (that is, <code>rdpq_set_mode_*</code> and <code>rdpq_mode_*</code>). Any other function is not batched and will be issued immediately. </dd></dl>

</div>
</div>
<a id="ad609d6c48eb715b18044e7cfc1bb6c30" name="ad609d6c48eb715b18044e7cfc1bb6c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad609d6c48eb715b18044e7cfc1bb6c30">&#9670;&#160;</a></span>rdpq_mode_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish a batch of RDP mode changes. </p>
<p>This function completes a batch of changes started with <a class="el" href="rdpq__mode_8h.html#abc8403608ccbb00ecda19fcacb5b59a3" title="Start a batch of RDP mode changes.">rdpq_mode_begin</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__mode_8h.html#abc8403608ccbb00ecda19fcacb5b59a3" title="Start a batch of RDP mode changes.">rdpq_mode_begin</a> </dd></dl>

</div>
</div>
<a id="a99c5c398b388f6d1683e7405a6058fb9" name="a99c5c398b388f6d1683e7405a6058fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c5c398b388f6d1683e7405a6058fb9">&#9670;&#160;</a></span>rdpq_set_mode_fill()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_set_mode_fill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__graphics.html#structcolor__t">color_t</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset render mode to FILL type. </p>
<p>This function sets the render mode type to FILL, which is used to quickly fill portions of the screens with a solid color. The specified color is configured via <a class="el" href="rdpq_8c.html#a70a6556d7d088ca2b745fa145e3aeee3" title="Enqueue a SET_FILL_COLOR RDP command.">rdpq_set_fill_color</a>, and can be changed later.</p>
<p>Notice that in FILL mode most of the RDP features are disabled, so all other render modes settings (rdpq_mode_* functions) do not work.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>The fill color to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7aaec7357eb3343339d9373b1a963a57" name="a7aaec7357eb3343339d9373b1a963a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aaec7357eb3343339d9373b1a963a57">&#9670;&#160;</a></span>rdpq_mode_combiner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_combiner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__macros_8h.html#a57a7ebf93023895db81d937866b00223">rdpq_combiner_t</a>&#160;</td>
          <td class="paramname"><em>comb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the color combiner. </p>
<p>This function allows to configure the color combiner formula to be used. The color combiner is the internal RDP hardware unit that mixes inputs from textures, colors and other sources and produces a RGB/Alpha value, that is then sent to the blender unit. If the blender is disabled (eg: the polygon is solid), the value produced by the combiner is the one that will be written into the framebuffer.</p>
<p>For common use cases, rdpq offers ready-to-use macros that you can pass to <a class="el" href="rdpq__mode_8h.html#a7aaec7357eb3343339d9373b1a963a57" title="Configure the color combiner.">rdpq_mode_combiner</a>: <a class="el" href="rdpq__macros_8h.html#a623cc6b579a82d6ca5086d3fbba50285" title="Draw a flat color. Configure the color via rdpq_set_prim_color.">RDPQ_COMBINER_FLAT</a>, <a class="el" href="rdpq__macros_8h.html#ab83cfcb2413f81216c4db6886e18f48d" title="Draw an interpolated color. This can be used for solid, non-textured triangles with per-vertex lighti...">RDPQ_COMBINER_SHADE</a>, <a class="el" href="rdpq__macros_8h.html#a604c0361f8fddd15bc3ee3ba198e49ae" title="Draw with a texture. This is standard texture mapping, without any lights. It can be used for rectang...">RDPQ_COMBINER_TEX</a>, <a class="el" href="rdpq__macros_8h.html#a11868571a75d3b93802567de631c7e38" title="Draw with a texture modulated with a flat color. Configure the color via rdpq_set_prim_color.">RDPQ_COMBINER_TEX_FLAT</a>, <a class="el" href="rdpq__macros_8h.html#ab02b406267a03f12673289a22432638a" title="Draw with a texture modulated with an interpolated color. This does texturing with gouraud shading,...">RDPQ_COMBINER_TEX_SHADE</a>.</p>
<p>For example, to draw a texture rectangle modulated with a flat color:</p>
<div class="fragment"><div class="line"><span class="comment">// Reset to standard rendering mode.</span></div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure the combiner</span></div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#a7aaec7357eb3343339d9373b1a963a57">rdpq_mode_combiner</a>(<a class="code hl_define" href="rdpq__macros_8h.html#a11868571a75d3b93802567de631c7e38">RDPQ_COMBINER_TEX_FLAT</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure the flat color that will modulate the texture</span></div>
<div class="line"><a class="code hl_function" href="rdpq_8c.html#ad25a8b6c5eb35fb2253f601c3be24867">rdpq_set_prim_color</a>(<a class="code hl_define" href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a>(192, 168, 74, 255));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Upload a texture into TMEM (tile descriptor #4)</span></div>
<div class="line"><a class="code hl_function" href="rdpq__tex_8c.html#aaa36de4024b0a12f37ddfc5544bcbfa4">rdpq_tex_upload</a>(<a class="code hl_enumvalue" href="rdpq_8h.html#a8d34f311d2e71435652a57adb1d6931ea1ef734aa501cdfd04e4c0f02691d1da5">TILE4</a>, &amp;texture, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw the rectangle</span></div>
<div class="line"><a class="code hl_define" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743">rdpq_texture_rectangle</a>(<a class="code hl_enumvalue" href="rdpq_8h.html#a8d34f311d2e71435652a57adb1d6931ea1ef734aa501cdfd04e4c0f02691d1da5">TILE4</a>,</div>
<div class="line">    0, 0, 32, 16,     <span class="comment">// x0, y0, x1, y1</span></div>
<div class="line">    0, 0, 1.0, 1.0f   <span class="comment">// s, t, ds, dt</span></div>
<div class="line">);</div>
<div class="ttc" id="agroup__graphics_html_gae16bab5741f411ec4ef51b0295f6e705"><div class="ttname"><a href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a></div><div class="ttdeci">#define RGBA32(rx, gx, bx, ax)</div><div class="ttdoc">Create a color_t from the R,G,B,A components in the RGBA32 range (0-255).</div><div class="ttdef"><b>Definition</b> graphics.h:74</div></div>
<div class="ttc" id="ardpq_8c_html_ad25a8b6c5eb35fb2253f601c3be24867"><div class="ttname"><a href="rdpq_8c.html#ad25a8b6c5eb35fb2253f601c3be24867">rdpq_set_prim_color</a></div><div class="ttdeci">void rdpq_set_prim_color(color_t color)</div><div class="ttdoc">Set the RDP PRIM combiner register (color only) (RDP command: SET_PRIM_COLOR)</div><div class="ttdef"><b>Definition</b> rdpq.h:949</div></div>
<div class="ttc" id="ardpq_8h_html_a8d34f311d2e71435652a57adb1d6931ea1ef734aa501cdfd04e4c0f02691d1da5"><div class="ttname"><a href="rdpq_8h.html#a8d34f311d2e71435652a57adb1d6931ea1ef734aa501cdfd04e4c0f02691d1da5">TILE4</a></div><div class="ttdeci">@ TILE4</div><div class="ttdoc">Tile #4 (for code readability)</div><div class="ttdef"><b>Definition</b> rdpq.h:254</div></div>
<div class="ttc" id="ardpq__macros_8h_html_a11868571a75d3b93802567de631c7e38"><div class="ttname"><a href="rdpq__macros_8h.html#a11868571a75d3b93802567de631c7e38">RDPQ_COMBINER_TEX_FLAT</a></div><div class="ttdeci">#define RDPQ_COMBINER_TEX_FLAT</div><div class="ttdoc">Draw with a texture modulated with a flat color. Configure the color via rdpq_set_prim_color.</div><div class="ttdef"><b>Definition</b> rdpq_macros.h:490</div></div>
<div class="ttc" id="ardpq__mode_8c_html_a7aaec7357eb3343339d9373b1a963a57"><div class="ttname"><a href="rdpq__mode_8c.html#a7aaec7357eb3343339d9373b1a963a57">rdpq_mode_combiner</a></div><div class="ttdeci">void rdpq_mode_combiner(rdpq_combiner_t comb)</div><div class="ttdoc">Configure the color combiner.</div><div class="ttdef"><b>Definition</b> rdpq_mode.h:465</div></div>
<div class="ttc" id="ardpq__rect_8h_html_a7196362c567172a2012f414c8a412743"><div class="ttname"><a href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743">rdpq_texture_rectangle</a></div><div class="ttdeci">#define rdpq_texture_rectangle(tile, x0, y0, x1, y1, s, t)</div><div class="ttdoc">Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)</div><div class="ttdef"><b>Definition</b> rdpq_rect.h:308</div></div>
<div class="ttc" id="ardpq__tex_8c_html_aaa36de4024b0a12f37ddfc5544bcbfa4"><div class="ttname"><a href="rdpq__tex_8c.html#aaa36de4024b0a12f37ddfc5544bcbfa4">rdpq_tex_upload</a></div><div class="ttdeci">int rdpq_tex_upload(rdpq_tile_t tile, const surface_t *tex, const rdpq_texparms_t *parms)</div><div class="ttdoc">Load a texture into TMEM.</div><div class="ttdef"><b>Definition</b> rdpq_tex.c:398</div></div>
</div><!-- fragment --><p>Alternatively, you can use your own combiner formulas, created with either <a class="el" href="rdpq__macros_8h.html#ae6316102ee9f09199c7d0c9c452915dc" title="Build a 1-pass combiner formula.">RDPQ_COMBINER1</a> (one pass) or <a class="el" href="rdpq__macros_8h.html#a6647a2b7243160974d2d2f1f0eef86bf" title="Build a 2-pass combiner formula.">RDPQ_COMBINER2</a> (two passes). See the respective documentation for all the details on how to create a custom formula.</p>
<p>When using a custom formula, you must take into account that some render states also rely on the combiner to work. Specifically:</p>
<ul>
<li>Mipmap (<a class="el" href="rdpq__mode_8h.html#a3501e4de775e105112bf4efcc7717926" title="Activate mip-mapping.">rdpq_mode_mipmap</a>): when activating interpolated mipmapping (<a class="el" href="rdpq__mode_8h.html#af881bfd1d140d97a1707c30e476787bda4c0e0308384c16155ba70b6478a19a1d" title="Interpolate between the two nearest mipmap levels (also known as &quot;trilinear&quot;)">MIPMAP_INTERPOLATE</a>, also known as "trilinear filterig"), a dedicated color combiner pass is needed, so if you set a custom formula, it has to be a one-pass formula. Otherwise, a RSP assertion will trigger.</li>
<li>Fog (<a class="el" href="rdpq__mode_8h.html#a7a484d0b44367b4fdc42ec5f416c715b" title="Enable or disable fog.">rdpq_mode_fog</a>): fogging is generally made by substituting the alpha component of the shade color with a depth value, which is then used in the blender formula (eg: <a class="el" href="rdpq__mode_8h.html#a85778605327870eedf586ad7f851e0cd" title="Fogging mode: standard. You can pass this macro to rdpq_mode_fog.">RDPQ_FOG_STANDARD</a>). The only interaction with the color combiner is that the SHADE alpha component should not be used as a modulation factor in the combiner, otherwise you get wrong results (if you then use the alpha for blending). rdpq automatically adjusts standard combiners using shade (<a class="el" href="rdpq__macros_8h.html#ab83cfcb2413f81216c4db6886e18f48d" title="Draw an interpolated color. This can be used for solid, non-textured triangles with per-vertex lighti...">RDPQ_COMBINER_SHADE</a> and <a class="el" href="rdpq__macros_8h.html#ab02b406267a03f12673289a22432638a" title="Draw with a texture modulated with an interpolated color. This does texturing with gouraud shading,...">RDPQ_COMBINER_TEX_SHADE</a>) when fog is enabled, but for custom combiners it is up to the user to take care of that.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comb</td><td>The combiner formula to configure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__macros_8h.html#ae6316102ee9f09199c7d0c9c452915dc" title="Build a 1-pass combiner formula.">RDPQ_COMBINER1</a> </dd>
<dd>
<a class="el" href="rdpq__macros_8h.html#a6647a2b7243160974d2d2f1f0eef86bf" title="Build a 2-pass combiner formula.">RDPQ_COMBINER2</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>For programmers with previous RDP programming experience: this function makes sure that the current cycle type can work correctly with the specified combiner formula. Specifically, it switches automatically between 1-cycle and 2-cycle depending on the formula being set and the blender unit configuration, and also automatically adapts combiner formulas to the required cycle mode. See the documentation in <a class="el" href="rdpq_8c.html" title="RDP Command queue.">rdpq.c</a> for more information. </dd></dl>

</div>
</div>
<a id="a64a153623e5985ce5c434bf52ba6efa6" name="a64a153623e5985ce5c434bf52ba6efa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64a153623e5985ce5c434bf52ba6efa6">&#9670;&#160;</a></span>rdpq_mode_blender()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_blender </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__macros_8h.html#ad903433712249392fb3ba0b3f8803cd7">rdpq_blender_t</a>&#160;</td>
          <td class="paramname"><em>blend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the formula to use for blending. </p>
<p>This function can be used to configure the formula used in the blender unit.</p>
<p>The standard blending formulas are:</p>
<ul>
<li><a class="el" href="rdpq__mode_8h.html#a83b5dbb31eb7e37fcab3a58ff1589e4f" title="Blending mode: multiplicative alpha.">RDPQ_BLENDER_MULTIPLY</a>: multiplicative alpha blending</li>
<li><a class="el" href="rdpq__mode_8h.html#a987ad1ff41a59243b20abb7dcbadddae" title="Blending mode: additive alpha. You can pass this macro to rdpq_mode_blender.">RDPQ_BLENDER_ADDITIVE</a>: additive alpha blending</li>
</ul>
<p>It is possible to also create custom formulas. The blender unit allows for up to two passes. Use <a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a> to create a one-pass blending formula, or <a class="el" href="rdpq__macros_8h.html#a58d9cd9a1b0d5c0c5b5d740ca4b970c8" title="Build a 2-pass blender formula.">RDPQ_BLENDER2</a> to create a two-pass formula.</p>
<p>Please notice that two-pass formulas are not compatible with fogging (<a class="el" href="rdpq__mode_8h.html#a7a484d0b44367b4fdc42ec5f416c715b" title="Enable or disable fog.">rdpq_mode_fog</a>). Also notice that rdpq_mode assumes that any formula that you set here (either one-pass or two-passes) does blend with the background. If you want to use a formula that does not blend with the background, set it via <a class="el" href="rdpq__mode_8h.html#a7a484d0b44367b4fdc42ec5f416c715b" title="Enable or disable fog.">rdpq_mode_fog</a>, otherwise you might get incorrect results when using anti-alias (see <a class="el" href="rdpq__mode_8h.html#a91fce068e270697a409cf54cf4c2058b" title="Activate antialiasing.">rdpq_mode_antialias</a>).</p>
<p>The following example shows how to draw a texture rectangle using a fixed blending value of 0.5 (ignoring the alpha channel of the texture):</p>
<div class="fragment"><div class="line"><span class="comment">// Set standard mode</span></div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#ac3c29578703de424bea9548ad86bb4af">rdpq_set_mode_standard</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure the formula:</span></div>
<div class="line"><span class="comment">//      (IN_RGB * FOG_ALPHA) + (MEMORY_RGB * (1 - FOG_ALPHA))</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// where FOG_ALPHA is the fixed alpha value coming from the FOG register.</span></div>
<div class="line"><span class="comment">// Notice that the FOG register is not necessarily about fogging... it is</span></div>
<div class="line"><span class="comment">// just one of the two registers that can be used in blending formulas.</span></div>
<div class="line"><a class="code hl_function" href="rdpq__mode_8c.html#a64a153623e5985ce5c434bf52ba6efa6">rdpq_mode_blender</a>(<a class="code hl_define" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584">RDPQ_BLENDER</a>(IN_RGB, FOG_ALPHA, MEMORY_RGB, INV_MUX_ALPHA));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configure the FOG_ALPHA value to 128 (= 0.5). The RGB components are</span></div>
<div class="line"><span class="comment">// not used.</span></div>
<div class="line"><a class="code hl_function" href="rdpq_8c.html#a7ffd0e373836f8500094bdcbe85ce530">rdpq_set_fog_color</a>(<a class="code hl_define" href="group__graphics.html#gae16bab5741f411ec4ef51b0295f6e705">RGBA32</a>(0,0,0, 128));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Load a texture into TMEM</span></div>
<div class="line"><a class="code hl_function" href="rdpq__tex_8c.html#aaa36de4024b0a12f37ddfc5544bcbfa4">rdpq_tex_upload</a>(<a class="code hl_enumvalue" href="rdpq_8h.html#a8d34f311d2e71435652a57adb1d6931ea65f7d9bde93f125384f419cc6e9b27a7">TILE0</a>, texture, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Draw it</span></div>
<div class="line"><a class="code hl_define" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743">rdpq_texture_rectangle</a>(<a class="code hl_enumvalue" href="rdpq_8h.html#a8d34f311d2e71435652a57adb1d6931ea65f7d9bde93f125384f419cc6e9b27a7">TILE0</a>,</div>
<div class="line">    0, 0, 64, 64,   <span class="comment">// x0,y0 - x1,y1</span></div>
<div class="line">    0, 0, 1.0, 1.0  <span class="comment">// s0,t0 - ds,dt</span></div>
<div class="line">);</div>
<div class="ttc" id="ardpq_8c_html_a7ffd0e373836f8500094bdcbe85ce530"><div class="ttname"><a href="rdpq_8c.html#a7ffd0e373836f8500094bdcbe85ce530">rdpq_set_fog_color</a></div><div class="ttdeci">void rdpq_set_fog_color(color_t color)</div><div class="ttdoc">Set the RDP FOG blender register.</div><div class="ttdef"><b>Definition</b> rdpq.h:887</div></div>
<div class="ttc" id="ardpq_8h_html_a8d34f311d2e71435652a57adb1d6931ea65f7d9bde93f125384f419cc6e9b27a7"><div class="ttname"><a href="rdpq_8h.html#a8d34f311d2e71435652a57adb1d6931ea65f7d9bde93f125384f419cc6e9b27a7">TILE0</a></div><div class="ttdeci">@ TILE0</div><div class="ttdoc">Tile #0 (for code readability)</div><div class="ttdef"><b>Definition</b> rdpq.h:250</div></div>
<div class="ttc" id="ardpq__macros_8h_html_ae0c65c3d742a4caf62bcd0d830793584"><div class="ttname"><a href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584">RDPQ_BLENDER</a></div><div class="ttdeci">#define RDPQ_BLENDER(bl)</div><div class="ttdoc">Build a 1-pass blender formula.</div><div class="ttdef"><b>Definition</b> rdpq_macros.h:826</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blend</td><td>Blending formula created with <a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a>, or 0 to disable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__mode_8h.html#a7a484d0b44367b4fdc42ec5f416c715b" title="Enable or disable fog.">rdpq_mode_fog</a> </dd>
<dd>
<a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a> </dd>
<dd>
<a class="el" href="rdpq__mode_8h.html#a83b5dbb31eb7e37fcab3a58ff1589e4f" title="Blending mode: multiplicative alpha.">RDPQ_BLENDER_MULTIPLY</a> </dd>
<dd>
<a class="el" href="rdpq__mode_8h.html#a987ad1ff41a59243b20abb7dcbadddae" title="Blending mode: additive alpha. You can pass this macro to rdpq_mode_blender.">RDPQ_BLENDER_ADDITIVE</a> </dd></dl>

</div>
</div>
<a id="a91fce068e270697a409cf54cf4c2058b" name="a91fce068e270697a409cf54cf4c2058b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91fce068e270697a409cf54cf4c2058b">&#9670;&#160;</a></span>rdpq_mode_antialias()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_antialias </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__mode_8h.html#a59160968c70168c743a484d8f7c93bcb">rdpq_antialias_t</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate antialiasing. </p>
<p>This function can be used to enable/disable antialias at the RDP level. There are two different kinds of antialias on N64:</p>
<ul>
<li>Antialias on internal edges: this is fully performed by RDP.</li>
<li>Antialias on external edges: this is prepared by RDP but is actually performed as a post-processing filter by VI.</li>
</ul>
<p>This function activates both kinds of antialias, but to display correctly the second type, make sure that you did pass <a class="el" href="group__display.html#gga44577780f71aa45486b189f27499e7a1a1844170f316890da24d1252b17b2ebf8" title="Resize the output image with a bilinear filter (see FILTERS_RESAMPLE). Add a video interface anti-ali...">FILTERS_RESAMPLE_ANTIALIAS</a> or <a class="el" href="group__display.html#gga44577780f71aa45486b189f27499e7a1a07f415ee1a7f2a98c8047d02ba528193" title="Resize the output image with a bilinear filter (see FILTERS_RESAMPLE). Add a video interface anti-ali...">FILTERS_RESAMPLE_ANTIALIAS_DEDITHER</a> to <a class="el" href="group__display.html#ga1763c553f071d40c4bd18cee77ae98a1" title="Initialize the display to a particular resolution and bit depth.">display_init</a>.</p>
<p>On the other hand, if you want to make sure that no antialias is performed, disable antialias with <code>rdpq_mode_antialias(false)</code> (which is the default for <a class="el" href="rdpq__mode_8h.html#ac3c29578703de424bea9548ad86bb4af" title="Reset render mode to standard.">rdpq_set_mode_standard</a>), and that will make sure that the VI will not do anything to the image, even if <a class="el" href="group__display.html#ga1763c553f071d40c4bd18cee77ae98a1" title="Initialize the display to a particular resolution and bit depth.">display_init</a> was called with <a class="el" href="group__display.html#gga44577780f71aa45486b189f27499e7a1a1844170f316890da24d1252b17b2ebf8" title="Resize the output image with a bilinear filter (see FILTERS_RESAMPLE). Add a video interface anti-ali...">FILTERS_RESAMPLE_ANTIALIAS</a> or <a class="el" href="group__display.html#gga44577780f71aa45486b189f27499e7a1a07f415ee1a7f2a98c8047d02ba528193" title="Resize the output image with a bilinear filter (see FILTERS_RESAMPLE). Add a video interface anti-ali...">FILTERS_RESAMPLE_ANTIALIAS_DEDITHER</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Antialiasing internally uses the blender unit. If you already configured a formula via <a class="el" href="rdpq__mode_8h.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a>, antialias will just rely on that one to correctly blend pixels with the framebuffer. It is thus important that a custom formula configured via <a class="el" href="rdpq__mode_8h.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a> does blend with the background somehow.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Antialiasing mode to use (or AA_NONE to disable) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7a484d0b44367b4fdc42ec5f416c715b" name="a7a484d0b44367b4fdc42ec5f416c715b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a484d0b44367b4fdc42ec5f416c715b">&#9670;&#160;</a></span>rdpq_mode_fog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_fog </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__macros_8h.html#ad903433712249392fb3ba0b3f8803cd7">rdpq_blender_t</a>&#160;</td>
          <td class="paramname"><em>fog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable or disable fog. </p>
<p>This function enables fog on RDP. Fog on RDP is simulated in the following way:</p>
<ul>
<li>The T&amp;L pipeline must calculate a depth information for each vertex of the primitive and put it into the alpha channel of the per-vertex color. This is outside of the scope of rdpq, so rdpq assumes that this has already been done when <a class="el" href="rdpq__mode_8h.html#a7a484d0b44367b4fdc42ec5f416c715b" title="Enable or disable fog.">rdpq_mode_fog</a> is called.</li>
<li>The RDP blender unit is programmed to modulate a "fog color" with the polygon pixel, using SHADE_ALPHA as interpolation factor. Since SHADE_ALPHA contains a depth information, the farther the object, the stronger it will assume the fog color.</li>
</ul>
<p>To enable fog, pass <a class="el" href="rdpq__mode_8h.html#a85778605327870eedf586ad7f851e0cd" title="Fogging mode: standard. You can pass this macro to rdpq_mode_fog.">RDPQ_FOG_STANDARD</a> to this function, and call <a class="el" href="rdpq_8c.html#a7ffd0e373836f8500094bdcbe85ce530" title="Set the RDP FOG blender register.">rdpq_set_fog_color</a> to configure the fog color. This is the standard fogging formula.</p>
<p>If you want, you can instead build a custom fogging formula using <a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a>. Notice that rdpq_mode assumes that the formula that you set with rdpq_mode_fog does not blend with the background; for that, use <a class="el" href="rdpq__mode_8h.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a>.</p>
<p>To disable fog, call <a class="el" href="rdpq__mode_8h.html#a7a484d0b44367b4fdc42ec5f416c715b" title="Enable or disable fog.">rdpq_mode_fog</a> passing 0.</p>
<dl class="section note"><dt>Note</dt><dd>Fogging uses one pass of the blender unit (the first), so this can coexist with a blending formula (<a class="el" href="rdpq__mode_8h.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a>) as long as it's a single pass one (created via <a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a>). If a two-pass blending formula (<a class="el" href="rdpq__macros_8h.html#a58d9cd9a1b0d5c0c5b5d740ca4b970c8" title="Build a 2-pass blender formula.">RDPQ_BLENDER2</a>) was set with <a class="el" href="rdpq__mode_8h.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a>, fogging cannot be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fog</td><td>Fog formula created with <a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a>, or 0 to disable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__mode_8h.html#a85778605327870eedf586ad7f851e0cd" title="Fogging mode: standard. You can pass this macro to rdpq_mode_fog.">RDPQ_FOG_STANDARD</a> </dd>
<dd>
<a class="el" href="rdpq_8c.html#a7ffd0e373836f8500094bdcbe85ce530" title="Set the RDP FOG blender register.">rdpq_set_fog_color</a> </dd>
<dd>
<a class="el" href="rdpq__macros_8h.html#ae0c65c3d742a4caf62bcd0d830793584" title="Build a 1-pass blender formula.">RDPQ_BLENDER</a> </dd>
<dd>
<a class="el" href="rdpq__mode_8h.html#a64a153623e5985ce5c434bf52ba6efa6" title="Configure the formula to use for blending.">rdpq_mode_blender</a> </dd></dl>

</div>
</div>
<a id="a9635e378432a4422d25953bf5e0425c4" name="a9635e378432a4422d25953bf5e0425c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9635e378432a4422d25953bf5e0425c4">&#9670;&#160;</a></span>rdpq_mode_dithering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_dithering </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__mode_8h.html#ab0ab3a62df1bd846c213c25a1d155095">rdpq_dither_t</a>&#160;</td>
          <td class="paramname"><em>dither</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change dithering mode. </p>
<p>This function allows to change the dithering algorithm performed by RDP on RGB and alpha channels. Note that by default, <a class="el" href="rdpq__mode_8h.html#ac3c29578703de424bea9548ad86bb4af" title="Reset render mode to standard.">rdpq_set_mode_standard</a> disables any dithering.</p>
<p>See <a class="el" href="rdpq__mode_8h.html#ab0ab3a62df1bd846c213c25a1d155095" title="Dithering configuration.">rdpq_dither_t</a> for an explanation of how RDP applies dithering and how the different dithering algorithms work.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dither</td><td>Dithering to perform</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__mode_8h.html#ab0ab3a62df1bd846c213c25a1d155095" title="Dithering configuration.">rdpq_dither_t</a> </dd></dl>

</div>
</div>
<a id="ae6a998fa3f248243cf1d698fd4715b9a" name="ae6a998fa3f248243cf1d698fd4715b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a998fa3f248243cf1d698fd4715b9a">&#9670;&#160;</a></span>rdpq_mode_alphacompare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_alphacompare </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate alpha compare feature. </p>
<p>This function activates the alpha compare feature. It allows to do per-pixel rejection (masking) depending on the value of the alpha component of the pixel. The value output from the combiner is compared with a configured threshold and if the value is lower, the pixel is not written to the framebuffer.</p>
<p>Moreover, RDP also support a random noise alpha compare mode, where the threshold value is calculated as a random number for each pixel. This can be used for special graphic effects.</p>
<dl class="section note"><dt>Note</dt><dd>Alpha compare becomes more limited if antialiasing is enabled (both full and reduced, see <a class="el" href="rdpq__mode_8h.html#a91fce068e270697a409cf54cf4c2058b" title="Activate antialiasing.">rdpq_mode_antialias</a>). In that case, any threshold value not equal to 0 will internally be treated as if 255 was specified. This implies that noise-based alpha compare is not supported under this condition.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threshold</td><td>Threshold value. All pixels whose alpha is less than this threshold will not be drawn. Use 0 to disable. Use a negative value for activating the noise-based alpha compare. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adfc04446fb593f51d5157d02dc8e4b17" name="adfc04446fb593f51d5157d02dc8e4b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc04446fb593f51d5157d02dc8e4b17">&#9670;&#160;</a></span>rdpq_mode_zbuf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_zbuf </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compare</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate z-buffer usage. </p>
<p>Activate usage of Z-buffer. The Z-buffer surface must be configured via <a class="el" href="rdpq_8c.html#a8a540c568fae4b371828e0b62a9a67ec" title="Configure the Z-buffer to use (RDP command: SET_Z_IMAGE)">rdpq_set_z_image</a>.</p>
<p>It is possible to separately activate the depth comparison (<em>reading</em> from the Z-buffer) and the Z update (<em>writing</em> to the Z-buffer).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compare</td><td>True if per-pixel depth test must be performed </td></tr>
    <tr><td class="paramname">update</td><td>True if per-pixel depth write must be performed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq_8c.html#a8a540c568fae4b371828e0b62a9a67ec" title="Configure the Z-buffer to use (RDP command: SET_Z_IMAGE)">rdpq_set_z_image</a> </dd></dl>

</div>
</div>
<a id="ac19dea948e3d7d283a116195a9b61502" name="ac19dea948e3d7d283a116195a9b61502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19dea948e3d7d283a116195a9b61502">&#9670;&#160;</a></span>rdpq_mode_zoverride()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_zoverride </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>deltaz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a fixed override of Z value. </p>
<p>This function activates a special mode in which RDP will use a fixed value of Z for the next drawn primitives. This works with both rectangles (<a class="el" href="rdpq__rect_8h.html#a9c6405f89d2fe70046330964c21ba124" title="Draw a filled rectangle (RDP command: FILL_RECTANGLE)">rdpq_fill_rectangle</a> and <a class="el" href="rdpq__rect_8h.html#a7196362c567172a2012f414c8a412743" title="Draw a textured rectangle (RDP command: TEXTURE_RECTANGLE)">rdpq_texture_rectangle</a>) and triangles (<a class="el" href="rdpq__tri_8c.html#afb11d915a7ce8903b2b3e5ed9ef7936e" title="Draw a triangle (RDP command: TRI_*)">rdpq_triangle</a>).</p>
<p>If a triangle is drawn with per-vertex Z while the Z-override is active, the per-vertex Z will be ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>Enable/disable the Z-override mode </td></tr>
    <tr><td class="paramname">z</td><td>Z value to use (range 0..1) </td></tr>
    <tr><td class="paramname">deltaz</td><td>DeltaZ value to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq_8c.html#a0dd5aa2fa09bcda9659c83dc67b896c9" title="Set a fixed Z value to be used instead of a per-pixel value (RDP command; SET_PRIM_DEPTH)">rdpq_set_prim_depth_raw</a> </dd></dl>

</div>
</div>
<a id="aeb5d5cab3092397225bfc40fffd1ab7d" name="aeb5d5cab3092397225bfc40fffd1ab7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5d5cab3092397225bfc40fffd1ab7d">&#9670;&#160;</a></span>rdpq_mode_tlut()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_tlut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__mode_8h.html#af94fffeeb6056f4af25fc52405e7d38c">rdpq_tlut_t</a>&#160;</td>
          <td class="paramname"><em>tlut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate palette lookup during drawing. </p>
<p>This function allows to enable / disable palette lookup during drawing. To draw using a texture with palette, it is necessary to first load the texture into TMEM (eg: via <a class="el" href="rdpq__tex_8c.html#aaa36de4024b0a12f37ddfc5544bcbfa4" title="Load a texture into TMEM.">rdpq_tex_upload</a>), then load the palette (eg: via <a class="el" href="rdpq__tex_8c.html#a30a8e20ae24686b902d5d572e158fbd6" title="Load one or more palettes into TMEM.">rdpq_tex_upload_tlut</a>), and finally activate the palette drawing mode via <a class="el" href="rdpq__mode_8h.html#aeb5d5cab3092397225bfc40fffd1ab7d" title="Activate palette lookup during drawing.">rdpq_mode_tlut</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tlut</td><td>Palette type, or 0 to disable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__tex_8c.html#aaa36de4024b0a12f37ddfc5544bcbfa4" title="Load a texture into TMEM.">rdpq_tex_upload</a> </dd>
<dd>
<a class="el" href="rdpq__tex_8c.html#a30a8e20ae24686b902d5d572e158fbd6" title="Load one or more palettes into TMEM.">rdpq_tex_upload_tlut</a> </dd>
<dd>
<a class="el" href="rdpq__mode_8h.html#af94fffeeb6056f4af25fc52405e7d38c" title="Types of palettes supported by RDP.">rdpq_tlut_t</a> </dd></dl>

</div>
</div>
<a id="a3fb95d62232b270c2da42b77c9bf13bd" name="a3fb95d62232b270c2da42b77c9bf13bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb95d62232b270c2da42b77c9bf13bd">&#9670;&#160;</a></span>rdpq_mode_filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__mode_8h.html#a83a5cb18caf8551ba080756f5615328c">rdpq_filter_t</a>&#160;</td>
          <td class="paramname"><em>filt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate texture filtering. </p>
<p>This function allows to configure the kind of texture filtering that will be used while sampling textures.</p>
<p>Available in render modes: standard, copy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filt</td><td>Texture filtering type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="rdpq__mode_8h.html#a83a5cb18caf8551ba080756f5615328c" title="Texture filtering types.">rdpq_filter_t</a> </dd></dl>

</div>
</div>
<a id="a3501e4de775e105112bf4efcc7717926" name="a3501e4de775e105112bf4efcc7717926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3501e4de775e105112bf4efcc7717926">&#9670;&#160;</a></span>rdpq_mode_mipmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_mipmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rdpq__mode_8h.html#af881bfd1d140d97a1707c30e476787bd">rdpq_mipmap_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_levels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate mip-mapping. </p>
<p>This function can be used to turn on mip-mapping.</p>
<p>TMEM must have been loaded with multiple level of details (LOds) of the texture (a task for which rdpq is currently missing a helper, so it has to be done manually). Also, multiple consecutive tile descriptors (one for each LOD) must have been configured.</p>
<p>If you call <a class="el" href="rdpq__tri_8c.html#afb11d915a7ce8903b2b3e5ed9ef7936e" title="Draw a triangle (RDP command: TRI_*)">rdpq_triangle</a> when mipmap is active via <a class="el" href="rdpq__mode_8h.html#a3501e4de775e105112bf4efcc7717926" title="Activate mip-mapping.">rdpq_mode_mipmap</a>, pass 0 to the number of mipmaps in <a class="el" href="structrdpq__trifmt__t.html" title="Format descriptor of a triangle.">rdpq_trifmt_t</a>, as the number of levels set here will win over it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Mipmapping mode (use <a class="el" href="rdpq__mode_8h.html#af881bfd1d140d97a1707c30e476787bda4d4a9d70d9494dce4b22cd6690b1c633" title="Mipmap disabled.">MIPMAP_NONE</a> to disable) </td></tr>
    <tr><td class="paramname">num_levels</td><td>Number of mipmap levels to use. Pass 0 when setting MIPMAP_NONE. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a647e0ab41c68805c849389ddc61c9c56" name="a647e0ab41c68805c849389ddc61c9c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a647e0ab41c68805c849389ddc61c9c56">&#9670;&#160;</a></span>rdpq_mode_persp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rdpq_mode_persp </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>perspective</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Activate perspective correction for textures. </p>
<p>This function enables or disables the perspective correction for texturing. Perspective correction does not slow down rendering, and thus it is basically free.</p>
<p>To be able to use perspective correction, make sure to pass the Z and W values in the triangle vertices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">perspective</td><td>True to activate perspective correction, false to disable it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 12 2024 13:29:34 for libdragon by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
